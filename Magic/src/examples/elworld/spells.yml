#
# Modify this file to change the available spells.
# New spells can be added, existing spells modified or removed (disabled)
#

#
# This is the Spell configuration file for the Magic plugin.
#
# Here you may alter default spell behavior, or add and remove spells.
#
# See https://github.com/elBukkit/MagicPlugin/blob/master/SPELLS.md for more information.
#
# To see the default spells and configurations, look in defaults/spells.defaults.yml
# 
# The name, description, and usage of a spell should be defined in messages.yml as
#  messages.spells.<spellkey>.name
#  messages.spells.<spellkey>.description
#  messages.spells.<spellkey>.usage
#  messages.spells.<spellkey>.cast
#  ... etc.
#
# General format:
#
# <spellkey>:
#       icon:  <material name>
#       category: <anything>
#       class: <Must be a class from the spells package.>
#       costs:
#           xp: <xp/mana amount>
#           <material_name>: <reagent amount>#      
#       parameters:
#           <specific spell parameters- TODO: list common ones>
#

default:
    # Spells take 1 minute to return to full SP earning potential
    earns_cooldown: 60000

phase:
   parameters:
      worlds:
          world:
             target: world_other
             scale: 1
          world_other:
             target: world
             scale: 1
          world_nether:
             target: world
             scale: 8
          world_the_end:
             target: world
             scale: 1
          world_backup:
             target: world
             scale: 1
          world_other_backup:
             target: world_other
             scale: 1
          world_nether_backup:
             target: world_nether
             scale: 1
          world_the_end_backup:
             target: world_the_end
             scale: 1

othershop:
    icon: ender_pearl
    category: utility
    hidden: true
    actions:
        cast:
        -  class: SpellShop
    parameters:
        loud: true
        auto_upgrade: true
        confirm_filler: stained_glass:2
        spells:
          phase: 500
          blink: 200
          laser: 1000
          breach: 800
          grenade: 700
          disintegrate: 600

blinkshop:
    icon: ender_pearl
    category: utility
    hidden: true
    actions:
        cast:
        -  class: SpellShop
    parameters:
        loud: true
        auto_upgrade: true
        confirm_filler: stained_glass:2
        spells:
          blink: 200
          phase: 500

madscienceshop:
    icon: ender_pearl
    category: utility
    hidden: true
    actions:
        cast:
        -  class: SpellShop
    parameters:
        loud: true
        auto_upgrade: true
        confirm_filler: stained_glass:15
        spells:
          emp: 500
          superemp: 4000
          glider: 5000

cleanup:
    icon_url: http://textures.minecraft.net/texture/ce6ed0a5f7e23bc3d34d73baa0b9c3f838e85014d2ff290801dc7486dd4da6
    icon: iron_spade
    category: engineering
    class: ConstructSpell
    worth: 2500
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 32
        check_destructible: true
        destructible: cleanup
        radius: 32
        replace: true
        transparent: transparent_to_construction
        cooldown: 2000
    costs:
        mana: 100

beaconshop:
    icon: beacon
    category: specialty
    hidden: true
    actions:
        cast:
        -  class: ItemShop
    parameters:
        loud: true
        confirm: true
        use_xp: true
        confirm_filler: stained_glass:5
        items:
          beacon: 1200

blasterexchange:
  hidden: true
  actions:
    cast:
    - class: GiveItem
  parameters:
    item: wand:blaster
    requires: wand:blaster
    loud: true

## In testing

smash:
    icon: feather
    icon_url: http://textures.minecraft.net/texture/7cc2fb583d1762a16a50fa5ac37bc09b46def63e68205116d650391f9233ed
    category: combat
    worth: 1000
    pvp_restricted: true
    actions:
        cast:
        - class: FallProtection
        - class: Repeat
          actions:
          - class: Velocity
          - class: Delay
        - class: Repeat
          repeat: 5
          actions:
          - class: Velocity
            direction: 0,-1,0
          - class: Delay
            delay: 400
        -  class: ChangeContext
           target_caster: true
           actions:
           - class: Sphere
             actions:
             -  class: ModifyBlock
    effects:
        cast:
        -  class: EffectSingle
           sound: enderdragon_wings
           sound_volume: 1
           effectlib:
             class: TraceEffect
             iterations: 30
             particle: spell
        land:
        -  class: EffectRing
           particle: spell
           period: 2
    parameters:
        duration: 240000
        target: self
        min_speed: 5
        max_speed: 5
        delay: 500
        falling: true
        speed: 0.9
        brush: air
        radius: 5
        undo: 15000
        cooldown: 30000
        check_destructible: false
        direction: 0,1,0
        repeat: 5
    costs:
        mana: 60

napalm:
    icon_url: http://textures.minecraft.net/texture/1eed1e4d70522ccd538b75ded4baa680e3dfe55426c560ff7b521be5cdf614f
    icon: poisonous_potato
    category: master
    worth: 7500
    upgrade_required_path: master
    actions:
        cast:
        - class: Projectile
          actions:
          - class: Delay
          - class: AreaOfEffect
            actions:
            - class: Damage
          - class: Disc
            actions:
            - class: Cover
              actions:
              - class: Skip
                actions:
                - class: Delay
                  delay: 5
              - class: Burn
    effects:
        cast:
        -  class: EffectSingle
           sound: creeper_hiss
        hit:
        -  class: EffectSingle
           location: source
           effectlib:
             class: HelixEffect
             particle: flame
             iterations: 1
    parameters:
        target: none
        target_type: LivingEntity
        projectile: LargeFireball
        fire: true
        delay: 3000
        player_damage: 20
        entity_damage: 40
        radius: 16
        cooldown: 120000
        skip: 8
    costs:
        mana: 555

relative:
    icon: paper
    actions:
        cast:
        -   class: CustomProjectile
            actions:
            -   class: Damage
    effects:
        cast:
        -   class: EffectSingle
            location: self
            use_wand_location: false
            use_eye_location: true
            effectlib:
                class: SphereEffect
                particle: smoke_normal
                radius: 1
                duration: 10000
                updateLocations: false
                relativeOffset: 5,2,5
        -   class: EffectSingle
            location: self
            use_wand_location: false
            use_eye_location: true
            effectlib:
                class: SphereEffect
                particle: redstone
                radius: 1
                duration: 10000
                updateLocations: false
                relativeOffset: 5,2,-5
        -  class: EffectSingle
           sound: magic.shimmer_big
           effectlib:
             class: ConeEffect
             iterations: 15
             particle: redstone
             color: 210B61
             lengthGrow: 0.01
             yawOffset: -90
        -  class: EffectSingle
           sound: magic.shimmer_big
           effectlib:
             class: ConeEffect
             iterations: 15
             particle: redstone
             color: 210B61
             lengthGrow: 0.01
             yawOffset: 90
    parameters:
        target_type: LivingEntity
        velocity: 1
        range: 100
        lifetime: 5000
        hitbox_size: 0.2
        damage: 1
        entity_damage: 2
        cooldown: 0
      
creepster:
    icon: sulphur
    actions:
        cast:
        - class: ArmorStandProjectile
          actions:
          - class: Damage
    parameters:
      velocity: 0.5
      helmet_item: skull_item:NathanWolf
      chestplate_item: chainmail_chestplate
      boots_item: chainmail_boots
      leggings_item: chainmail_leggings
      location_offset: 0,4,0
      armor_stand_invisible: false
      armor_stand_marker: true
      attach_duration: 5000
      head_transform:
        x: 0
        y: 1
        z: 1.6
      body_transform:
        x: 0
        y: 2
        z: 0
      right_arm_transform:
        x: "6.28*sin(0.4*t + 0.01)"
        y: 0
        z: 0
      right_leg_transform:
        x: "6.28*sin(0.4*t + 0.02)"
        y: 0
        z: 0
      left_arm_transform:
        x: "6.28*sin(0.4*t + 0.03)"
        y: 0
        z: 0
      left_leg_transform:
        x: "6.28*sin(0.4*t + 0.04)"
        y: 0
        z: 0

mathtest:
    icon: paper
    actions:
        cast:
        - class: EntityProjectile
          velocity_transform:
            x:
              class: dSin
              a: 10
              b: 0.31416
              c: 0
            y: 0
            z:
              class: dSin
              a: 5
              b: 0.62832
              c: 0
          actions:
          - class: Damage
    effects:
        projectile:
        -   class: EffectSingle
            effectlib:
                class: SphereEffect
                particle: flame
                particles: 4
                radius: 0.2
                duration: 30000
        tick:
        - particle: redstone
          color: FF0000
          location: target
    parameters:
        target_type: LivingEntity
        range: 100
        lifetime: 10000
        hitbox_size: 0.2
        damage: 1
        entity_damage: 2
        cooldown: 0
        type: zombie

equationeffects:
    icon: paper
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: Damage
    effects:
        projectile:
        -   class: EffectSingle
            effectlib:
                class: SphereEffect
                particle: flame
                particles: 4
                radius: 0.2
                duration: 30000
        tick:
        - particle: redstone
          color: FF0000
          location: target
    parameters:
        target_type: LivingEntity
        range: 100
        lifetime: 10000
        hitbox_size: 0.2
        damage: 1
        entity_damage: 2
        cooldown: 0
        velocity_transform:
          x: "10*sin(0.31416 * t)"
          y: 0
          z: "5*sin(0.62832 * t)"

stoptest:
    category: FireBending
    actions:
        cast:
        -   class: Parallel
            actions:
            -   class: CustomProjectile
                velocity_transform:
                    x: 10
                    y: 0
                    z: 0
                actions:
                -   class: Damage
                -   class: Stop
            -   class: CustomProjectile
                velocity_transform:
                    x: 1
                    y: 0
                    z: 0
                actions:
                -   class: Damage
    effects:
        projectile:
        -   class: EffectSingle
            effectlib:
                class: SphereEffect
                particle: flame
                particles: 20
                radius: 0.2
                duration: 30000
        cast:
        -   class: EffectSingle
            location: self
            use_wand_location: false
            effectlib:
                offset: 0,-0.5,0
                class: SphereEffect
                particle: smoke_normal
                particles: 10
                radius: 1
                duration: 1
    parameters:
        target_type: LivingEntity
        range: 100
        lifetime: 10000
        hitbox_size: 1
        damage: 1
        entity_damage: 2
        cooldown: 0


transformtest:
    icon: bucket
    icon_url: http://textures.minecraft.net/texture/8b50be531940368e173db018d2ead9d2cdeec8e39c7a51b681dcad4c4d41d
    effects:
        cast:
        -  class: EffectTransform
           particle: redstone
           material: redstone_block
           particle_count: 1
           particle_offset_x: 0
           particle_offset_y: 0
           particle_offset_z: 0
           duration: 10000
           steps: 50
           position_transform:
            x: 0.02 * t
            y: 3 * cos(t)
            z: 2 * sin(t * 2)


spraypaint:
  hidden: true
  icon: tripwire_hook
  icon_url: http://textures.minecraft.net/texture/719e9875ffb35adfbd135c416e51dcf80dec38bf3d0dca2f94eb6595b90c0b5
  uses_brush: true
  brush_effects: true
  actions:
    cast:
    - class: Repeat
      actions:
      - class: Retarget
        actions:
          - class: PlayEffects
          - class: Delay
  effects:
      cast:
      -  class: EffectSingle
         sound: creeper_hiss
         location: both
      paint:
      -  class: EffectSingle
         location: target
         effectlib:
          class: IconEffect
          yOffset: 0
          particle: block_crack
          particleCount: 10
          particleOffsetX: 0.01
          particleOffsetY: 0.01
          particleOffsetZ: 0.01
          speed: 0
  parameters:
    effects: paint
    target: other
    range: 16
    allow_max_range: true
    repeat: 100
    delay: 50
    
base_trap:
  icon_url: http://textures.minecraft.net/texture/c7a8e7c9d3375135e39aa6d57b4e60539cf8f6efc5b58c83a13caf40561560
  icon: ender_pearl
  category: combat
  actions:
    cast:
      - class: Delay
        delay: $delay1
      - class: Repeat
        stop_on_success: true
        actions:
          - class: AreaOfEffect
            stop_on_success: false
            actions:
              - class: Serial
                actions: $trap_actions
              - class: PlayEffects
                effects: hit
          - class: Delay
            delay: $delay2
  effects:
    cast:
      - location: target
        particle: smoke_normal
    tick:
      - class: EffectSingle
        location: target
        particle: smoke_normal
        particle_count: 20
        particle_offset_x: 1
        particle_offset_y: 1
        particle_offset_z: 1
    hit:
      - class: EffectSingle
        location: target
        color: 2E2E2E
        firework: ball
      - class: EffectSingle
        location: target
        use_hit_location: false
        requires_entity_target: true
        effectlib:
          class: SphereEffect
          iterations: 17
          period: 4
          particle: smoke_normal
          radius: 0.5
          particles: 20
  parameters:
    radius: 5
    range: 1
    #reorient: true
    target: other
    target_type: LivingEntity
    allow_max_range: true
    delay1: 10000
    delay2: 250
    
blind_trap:
  inherit: base_trap
  parameters:
    trap_actions:
    - class: PotionEffect
    effect_blind: 1
    duration: 10000
    
force2:
    icon_url: http://textures.minecraft.net/texture/c7142a19d8c84389da74b69641542b8b2fafbed8f7515d1d36c63c96bd749
    icon: leash
    category: master
    worth: 2500
    actions:
        cast:
        -  class: Velocity
           item_speed: 2
           living_entity_speed: 3
           direction: 0,1,0
        -  class: Repeat
           actions:
           - class: Delay
           - class: Retarget
             range: 8
             actions:
             - class: ChangeContext
               source_at_target: true
               actions:
               - class: Velocity
                 push: -1
    effects:
        cast:
        -  class: EffectSingle
           location: origin
           sound: magic.zap_big
           sound_pitch: 2
           effectlib:
             class: ConeEffect
             iterations: 8
             particles: 2
             particle: spell_mob
             lengthGrow: 0.4
        -  class: EffectSingle
           location: origin
           effectlib:
             class: LineEffect
             duration: 5000
             particle: spell_mob
        -  class: EffectSingle
           location: target
           use_block_location: true
           effectlib:
             class: SphereEffect
             duration: 5000
             period: 2
             particle: spell
             radius: 0.8
        -  class: EffectSingle
           location: target
           effectlib:
             class: ConeEffect
             iterations: 8
             particle: spell_mob
             autoOrient: false
        no_target:
        -  class: EffectSingle
           location: origin
           sound: enderdragon_wings
           sound_pitch: 2
           effectlib:
             class: ConeEffect
             iterations: 8
             particles: 2
             particle: spell
             lengthGrow: 0.4
    parameters:
        hitbox: true
        target: other
        target_type: LivingEntity
        allow_max_range: false
        range: 16
        target_breakables: 2
        delay: 100
        repeat: 50
        living_entity_speed: 0.1
        item_speed: 0.05
        cancel_on_damage: 0.5
        cooldown: 45000
    costs:
        mana: 200
           
spshop:
    inherit: buyshop
    parameters:
        items:
        - item: sp:10
          cost: 100
        - item: sp:100
          cost: 1000
        - item: sp:1000
          cost: 10000
          
           
phaseshop:
    inherit: buyshop
    parameters:
        items:
        - item: phase
          cost: 1000
              
ajshop:
    inherit: buyshop
    parameters:
        items:
        - item: water_bucket
        - item: golden_apple
        - item: torch
        - item: coal
        - item: dirt
        - item: trap_door
        - item: raw_fish
        - item: none
        - item: none
        - item: none
   
  
equationeffecttest:
    icon_url: http://textures.minecraft.net/texture/aa7e54c1c7634bdf1118db91da9e12b6b4d17f7fb7b7d5b0d06d554feb737bf
    icon: firework
    category: light
    worth: 20
    earns_sp: 1
    show_undoable: false
    upgrade_required_path: student
    upgrade_required_casts: 50
    effects:
        cast:
        -  class: EffectSingle
           effectlib: 
              class: EquationEffect
              xEquation: "0.1*t"
              yEquation: "0.1*t/2"
              zEquation: "0.5*sin(t)"
              iterations: 100
              particles: 10
              updateLocations: false
              updateDirections: false
              
    costs:
        mana: 10
        
crystalbomb:
    icon: ender_pearl
    actions:
        cast:
        - class: EntityProjectile
          actions:
          - class: Explosion
    effects:
        projectile:
        -   class: EffectSingle
            effectlib:
                class: SphereEffect
                particle: flame
                particles: 4
                radius: 0.2
                duration: 30000
    parameters:
      type: ender_crystal
      velocity: 10
      gravity: 0.05



unpolymorph:
    icon_url: http://textures.minecraft.net/texture/7e453aa5908121dcf1cd8cf9f04459741f7879d99c01fb71bf243c25c3188
    icon: nether_brick_item
    category: combat
    worth: 300
    earns_sp: 8
    actions:
      cast:
      - class: CustomProjectile
        actions:
        - class: Disguise
    effects:
        cast:
        -  class: EffectSingle
           sound: magic.zap_big
        -  class: EffectSingle
           sound: magic.zap
        tick:
        - location: target
          particle: fireworks_spark
          particle_count: 3
          particle_offset_x: 0.01
          particle_offset_y: 0.01
          particle_offset_z: 0.01
        hit:
        - class: EffectSingle
          location: target
          color: F5EFFB
          firework: ball
        - class: EffectSingle
          sound: entity_experience_orb_pickup
          location: target
          requires_entity_target: true
          particle_override: particleOrbital
          effectlib:
             class: AtomEffect
             particleNucleus: fireworks_spark
             particleOrbital: fireworks_spark
             iterations: 40
    costs:
        mana: 150
    parameters:
        velocity: 150
        range: 48
        target_type: LivingEntity
        target_breakables: 1
        target: other
        duration: 20000
        hitbox: true
        cooldown: 30000
        
      
addmana:
    icon: iron_hoe
    category: npc
    hidden: true
    actions:
        cast:
        -  class: ModifyMana
    parameters:
        mana: 100
        quiet: true

quafflepower:
    icon: diamond_hoe:101
    actions:
        cast:
        - class: ArmorStandProjectile
          actions:
          - class: GiveItem
          miss:
          - class: DropItem
    effects:
        tick:
        - particle: redstone
          color: FF0000
          location: target
          particle_count: 10
          particle_offset_x: 0.5
          particle_offset_y: 0.5
          particle_offset_z: 0.5
        hit_entity:
        -  class: EffectSingle
           location: target
           particle: crit
           particle_count: 15
           particle_offset_x: 0
           particle_offset_y: 0
           particle_offset_z: 0
           particle_data: 0.8
        hit:
        -  class: EffectSingle
           location: target
           particle: crit
           particle_count: 10
           particle_offset_x: 0
           particle_offset_y: 0
           particle_offset_z: 0
           particle_data: 1
    parameters:
      head_transform:
          orient: false
          x: 0
          y: "10*t"
          z: 0
      target: other
      hitbox: false
      falling: false
      velocity: 30
      hitbox_size: 1.5
      helmet_item: quaffleitem
      armor_stand_invisible: true
      armor_stand_marker: true
      orient_right_arm: true
      gravity: 0.05
      interval: 1
      fov: 0.3
      drag: 0.01
#      reflective: "!air"
      location_offset: 0,0,0
      lifetime: 7000
      track_target: true
      target_self_timeout: 5000
      target_type: Player
      hit_requires_entity: true
      projectile_effects:
        glowing: 10000,1

bring:
    name: Bring
    icon_url: http://textures.minecraft.net/texture/e13e9af0957a9dd4995811ef3e869b4ad8fbb59ca7474e4c84ce7f6019b079
    icon: fishing_rod
    category: elemental
    worth: 20
    actions:
        cast:
        - class: AreaOfEffect
          actions:
          - class: Velocity
            direction: 0,1,0
            entity_speed: 1
        - class: Delay
          delay: 500
        - class: AreaOfEffect
          actions:
          - class: Velocity
    effects:
        cast:
        -  class: EffectSingle
           sound: block_fire_extinguish
           location: targets
           effectlib:
             class: SphereEffect
             iterations: 2
             period: 1
             particle: spell
             radius: 0.8
    parameters:
        target: self
        target_type: LivingEntity
        count: 16
        radius: 32
        y_radius: 5
        entity_speed: 2
        push: -1
    costs:
        mana: 50

minions:
    name: Summon Minions
    icon_url: http://textures.minecraft.net/texture/8b6a72138d69fbbd2fea3fa251cabd87152e4f1c97e5f986bf685571db3cc0
    icon: monster_egg
    category: elemental
    pvp_restricted: true
    actions:
      cast:
      - class: Repeat
        actions:
        - class: ChangeContext
          actions:
          - class: SpawnEntity
    worth: 200
    effects:
        cast:
        -  class: EffectSingle
           sound: ghast_moan
        -  class: EffectSingle
           location: targets
           effectlib:
             class: AtomEffect
             iterations: 32
             particleNucleus: drip_lava
    parameters:
        target: self
        force: true
        track: false
        random_target_offset: 5,0,5
        target_offset: 0,-1,0
        type: undead_minion
        cooldown: 10000
        undo: 120000
        loot: false
        repeat: 3
    costs:
        mana: 50

recallshop:
  inherit: buyshop
  parameters:
    spells:
    - recall
    confirm: true
    confirm_filler: stained_glass:3
    auto_close: true
    cost_override: currency
    requirements:
    - wand: wand

flingshop:
  inherit: buyshop
  parameters:
    spells:
    - fling
    confirm: true
    confirm_filler: stained_glass:3
    auto_close: true
    cost_override: currency
    requirements:
    - wand: wand

blastshop:
  inherit: buyshop
  parameters:
    spells:
    - blast
    confirm: true
    confirm_filler: stained_glass:3
    auto_close: true
    cost_override: currency
    requirements:
    - wand: wand

pollinateshop:
  inherit: buyshop
  parameters:
    spells:
    - pollinate
    confirm: true
    confirm_filler: stained_glass:3
    auto_close: true
    cost_override: currency
    requirements:
    - wand: wand

intro_spshop:
    inherit: buyshop
    cast_on_no_target: false
    parameters:
        items:
        - item: sp:1000
          cost: 1000
        cooldown: 360000000
        confirm: true
        auto_close: true
        confirm_filler: stained_glass:3
        require_wand: true
        quiet: false
        loud: true

cursedmeatshop:
    inherit: buyshop
    parameters:
        items:
        - item: cursedmeat
          cost: 10
        auto_close: true

camerashop:
    inherit: buyshop
    parameters:
        items:
        - item: camera
          cost: 100
        confirm: true
        auto_close: true
        confirm_filler: stained_glass:3

clearcooldowns:
    actions:
      cast:
      - class: ApplyCooldownAction
    parameters:
      spells: intro_spshop
      duration: 0
      clear: true
      target: self

areamissile:
  inherit: missile
  actions:
      cast:
      - class: CustomProjectile
        actions:
        - class: SpawnEntity
  parameters:
    type: area_effect_cloud
    radius: 10
    color: "00AAFF"
    particle: redstone
    duration: 20000
    potion_effects:
    - type: slow
      duration: 10000
    - type: confusion
      duration: 5000

pollinate:
  category: light

plantshop:
    inherit: buyshop
    parameters:
        items:
          red_rose:6@2: 5
          water_lily: 5
          red_rose:5@2: 5
          red_rose:4@2: 5
          red_rose:2@2: 5
          red_rose:1@2: 5
          red_rose:0@2: 5
          yellow_flower:0@2: 5
          flower_pot_item: 20
          red_mushroom@2: 10
          vine@8: 10
          leaves@16: 10
          leaves:1@16: 10
          leaves:2@16: 10
          leaves:3@16: 10

antigravity:
    icon: diamond_axe:125
    icon_disabled: diamond_hoe:125
    icon_url: http://textures.minecraft.net/texture/4e693cf3b7bf83248527aacc2714638b55587cde593963d1f861884f5be1638
    category: combat
    worth: 800
    earns_sp: 8
    upgrade_required_path: student
    upgrade_required_casts: 50
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: AreaOfEffect
            actions:
            - class: PotionEffect
    effects:
        cast:
        -  class: EffectSingle
           location: origin
           sound: block_portal_travel
           color_override: color
           effectlib:
             class: ConeEffect
             iterations: 8
             particle: cloud
             lengthGrow: 0.15
             radiusGrow: 0.004
             updateLocations: false
             updateDirections: false
        tick:
        -  class: EffectSingle
           location: target
           particle: redstone
           particle_count: 2
           particle_offset_x: 0.1
           particle_offset_y: 0.1
           particle_offset_z: 0.1
        hit_block:
        -  class: EffectSingle
           location: target
           particle: block_crack
           particle_count: 50
           particle_offset_x: 0.2
           particle_offset_y: 1
           particle_offset_z: 0.2
        hit_entity:
        -  class: EffectSingle
           location: target
           particle: block_crack
           material: redstone_block
           particle_count: 30
           particle_offset_x: 0.2
           particle_offset_y: 0.2
           particle_offset_z: 0.2
        hit:
        -  class: EffectSingle
           sound: entity_enderdragon_flap
           location: target
           effectlib:
             class: HelixEffect
             particle: cloud
             iterations: 2
    parameters:
        velocity: 80
        target_type: LivingEntity
        allow_max_range: true
        range: 16
        effect_levitation: 10
        effect_slowness: 2
        effect_nausea: 2
        duration: 500
        radius: 2
        target_self: false
        cooldown: 30000
        reorient: false
    costs:
        mana: 200

antigravity|2:
    worth: 950
    earns_sp: 16
    upgrade_required_path: apprentice
    upgrade_required_casts: 75
    parameters:
        duration: 150
        cooldown: 35000
        effect_levitation: 10
        effect_slowness: 3
        effect_nausea: 5
        radius: 4
        mana: 300
        range: 32

fieldshop:
    inherit: buyshop
    parameters:
        confirm: true
        confirm_filler: stained_glass:3
        auto_close: true
        items:
        - item: beacon
          cost: 2000
          name: "&3Home Protection"
          lore:
          - '&eThis will protect a single plot'
          - '&3with a radius of 32'
          - '&7Six allowed per player'
          - 'See: https://youtu.be/l7tsg3kt8BU'
        - item: bookshelf
          cost: 10000
          name: "&3Commune Stone"
          lore:
          - '&eThis will protect a fullheight area'
          - '&3with a radius of 60'
          - '&7Four allowed per player'
          - Use /ps allow <player> to add members
          - 'See: https://youtu.be/l7tsg3kt8BU'
        - item: mossy_cobblestone
          cost: 50000
          name: "&6Town Stone"
          lore:
          - '&eThis will protect a fullheight area'
          - '&3with a radius of 100'
          - '&7One allowed per player'
          - Use /ps allow <player> to add members
          - 'See: https://youtu.be/l7tsg3kt8BU'

boulder:
    icon: diamond_axe:30
    icon_disabled: diamond_hoe:30
    icon_url: http://textures.minecraft.net/texture/44471f5f9792fd21dd1e652f2ac5f47e49eeebd4fb289f4174ec20dc7b57e6
    category: earthbending
    worth: 100
    actions:
        cast:
        - class: Sphere
          actions:
          - class: Brush
            sample: true
            actions:
            - class: ThrowBlock
          - class: ModifyBlock
    effects:
        hit:
        -  class: EffectSingle
           particle: block_crack
           location: origin
    parameters:
      target: self
      speed_min: 1.2
      speed_max: 2.2
      undo: 5000
      radius: 3
      brush: erase
    costs:
        mana: 20

boulder:
    icon: diamond_axe:31
    icon_disabled: diamond_hoe:31
    icon_url: http://textures.minecraft.net/texture/c7c963831339c9e82e91cd29bfa36ab616d78555dfbe7e72983e2e254180a2ab
    category: engineering
    tags: noduel
    worth: 300
    actions:
        cast:
        -  class: Multiply
           actions:
           -  class: Spread
              actions:
              -  class: ThrowBlock
    effects:
        hit:
        -  class: EffectSingle
           particle: block_crack
           location: origin
    parameters:
      speed: 1.5
      multiply: 8
      pitch_max: 5
      yaw_max: 45
      consume: true
    costs:
        mana: 40

terracotta:
  name: Terra Cotta
  actions:
    cast:
    - class: ChangeContext
      actions:
      - class: Repeat
        actions:
        - class: Brush
          brush: black_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: gray_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: silver_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: white_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: red_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: orange_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: yellow_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: green_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: lime_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: blue_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: light_blue_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: cyan_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: purple_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: magenta_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: pink_glazed_terracotta
          actions:
          - class: Plane
            actions:
            - class: ModifyBlock
  parameters:
    cooldown: 30000
    radius: 2
    undo: 100
    target: self
    destructible: "*"
    axis: x
    repeat: 5
    delay: 100
    target_offset: 4,1,0

launchmob:
    name: Launch Mob
    description: Launches a mob high into the air!
    icon: diamond_axe:63
    icon_disabled: diamond_hoe:63
    icon_url: http://textures.minecraft.net/texture/621668ef7cb79dd9c22ce3d1f3f4cb6e2559893b6df4a469514e667c16aa4
    category: elemental
    hidden: true
    worth: 100
    actions:
        cast:
        - class: SpawnEntity
          entity_types:
              chicken: 30
              cow: 100
              pig: 100
              mushroom_cow: 15
              iron_golem: 2
        - class: VelocityAction
    effects:
        cast:
        -  class: EffectSingle
           sound: entity_villager_yes
           effectlib:
             class: DnaEffect
             particleHelix: drip_lava
             iterations: 24
             particleBase1: drip_water
    parameters:
        target: self
        set_target: true
        cooldown: 0
        undo: 10000
        loot: false
        living_entity_speed: 1
        y_offset: 0.2
        target_breakables: 0

laser2:
  inherit: laser
  parameters:
    brush: ice

stream2:
  inherit: stream
  parameters:
    brush: ice
    start: 2
    increment_data: false
    transparent: air,ice
    undo_to: 10
    track_range: 0

placer:
    icon: diamond_axe:145
    icon_disabled: diamond_hoe:145
    icon_url: http://textures.minecraft.net/texture/7cc8e096a2ac99bf264b3e827f1e3aa07ba688d7b4f470128f741132625e
    category: demolition
    worth: 450
    earns_sp: 8
    upgrade_required_path: apprentice
    upgrade_required_casts: 50
    pvp_restricted: true
    actions:
        cast:
        - class: Repeat
          actions:
          - class: PlayEffects
            effects: beam
          - class: Retarget
            actions:
            - class: ChangeContext
              target_attachment: true
              actions:
              - class: Damage
              - class: ModifyBlock
          - class: Delay
    effects:
        beam:
        -  class: EffectSingle
           sound: magic.zap
           location: origin
           sound_volume: 0.1
           color_override: colorHelix
           effectlib:
             class: DnaEffect
             particles_base: 5
             particlesHelix: 7
             particleHelix: redstone
             particleBase1: drip_lava
             particleBase2: smoke_normal
             relativeOffset: -2,0,0
             iterations: 10
             radius: 0.5
             grow: 0.2
             base_interval: 5
             length: 16
        cast:
        -  class: EffectSingle
           particle: drip_lava
           particle_count: 20
    parameters:
        target: other
        target_type: Damageable
        player_damage: 0.5
        entity_damage: 1
        target_count: 5
        range: 32
        destructible: destructible_replace
        allow_max_range: true
        undo: 30000
        brush: ice
        undo: 15000
        cooldown: 10000
        repeat: 20
        undo_speed: 1
        delay: 100
    costs:
        mana: 120

flare2:
    icon: diamond_axe:148
    icon_disabled: diamond_hoe:148
    icon_url: http://textures.minecraft.net/texture/aa7e54c1c7634bdf1118db91da9e12b6b4d17f7fb7b7d5b0d06d554feb737bf
    category: light
    worth: 20
    earns_sp: 1
    show_undoable: false
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: Firework
            firework: burst
            color: "red"
            color2: "red"
          - class: Firework
            firework: ball
            color: "blue"
            color2: "red"
          miss:
          - class: Firework
            firework: burst
            color: "red"
            color2: "red"
          - class: Firework
            firework: ball
            color: "blue"
            color2: "red"
    effects:
        cast:
        - class: EffectSingle
          sound: entity_firework_launch
        tick:
        - particle: fireworks_spark
          location: target
          particle_count: 20
          particle_offset_x: 0.8
          particle_offset_y: 0.8
          particle_offset_z: 0.7
    parameters:
        allow_max_range: true
        range: 16
        velocity: 10
        ticks_flown: 2
        expected_lifespan: 1
        cooldown: 2000
    costs:
        mana: 10


hookshot:
    icon: diamond_axe:198
    icon_disabled: diamond_hoe:198
    icon_url: http://textures.minecraft.net/texture/543a93796b389fc710671b62106068619b7673e7bf48a6c77bc4db921d54
    category: combat
    worth: 100
    earns_sp: 6
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: Damage
        - class: CustomProjectile
          tick_effects: pulling
          tick:
          - class: ChangeContext
            target_caster: true
            actions:
            - class: Velocity
    effects:
        cast:
        -  class: EffectSingle
           sound: magic.zap
           location: origin
        tick:
        - location: target
          particle: cloud
          particle_count: 4
          particle_offset_x: 0.05
          particle_offset_y: 0.05
          particle_offset_z: 0.05
        pulling:
        - location: target
          particle: redstone
          particle_count: 4
          particle_offset_x: 0.05
          particle_offset_y: 0.05
          particle_offset_z: 0.05
        hit:
        -  class: EffectSingle
           sound: magic.zap_crack
           sound_volume: .3
           location: target
           particle: explosion_large
    parameters:
        target: other
        hitbox: true
        allow_max_range: true
        reorient: false
        range: 48
        target_type: Damageable
        player_damage: 3
        entity_damage: 6
        target_breakables: 1
        cooldown: 5000
        velocity: 20
    costs:
        mana: 25

drainlife:
  name: Drain Life
  description: Inflict minor damage to regenerate health
  icon: diamond_axe:3
  icon_disabled: diamond_axe:3
  icon_url: http://textures.minecraft.net/texture/b635f01b8b4cd9f44436154be3dd5d735e4487617089d3dadda39b4dada14
  category: necromancy
  worth: 10000
  actions:
      cast:
      - class: Repeat
        actions:
        - class: Damage
        - class: ChangeContext
          requires_entity_target: true
          actions:
          - class: ChangeContext
            target_caster: true
            actions:
            - class: Heal
        - class: Delay
  effects:
    cast:
    - class: EffectSingle
      sound: ENTITY_CREEPER_DEATH
      location: both
      color_override: color
      effectlib:
        class: LineEffect
        duration: 3000
        type: repeating
        particle: redstone
        color: red
  costs:
      mana: 50
  parameters:
      allow_max_range: true
      velocity: 200
      damage: 0.5
      range: 30
      hitbox: true
      target: other
      target_npc: true
      target_type: LivingEntity
      cooldown: 10000
      repeat: 10
      delay: 500
      amount: 1
      damage: 0.75

corpseexplosion:
   name: Corpse Explosion
   icon: diamond_axe:196
   icon_disabled: diamond_hoe:196
   icon_url: http://textures.minecraft.net/texture/91e9bb78d29e2967d52274d370ad78cb61d15eca3d26a8d6bfc24f887072fa81
   category: combat
   worth: 10000
   actions:
     cast:
       - class: ChangeContext
         source_at_target: true
         source_is_target: true
         requires_entity_target: true
         actions:
         - class: Firework
         - class: Mount
         - class: Delay
         - class: ChangeContext
           target_entity: true
           actions:
           - class: Explosion
   effects:
       cast:
       -  class: EffectSingle
          custom_sound: magic.whip
          location: origin
       -  class: EffectSingle
          custom_sound: magic.protego
          location: origin
       -  class: EffectSingle
          custom_sound: magic.vanish
          location: origin
          effectlib:
            class: ConeEffect
            iterations: 16
            particle: spell_mob
            color: FE2EF7
            lengthGrow: 0.4
       -  class: EffectSingle
          location: target
          color: FE2EF7
          firework: star
       - class: EffectSingle
         location: target
         particle_override: particleOrbital
         effectlib:
            class: AtomEffect
            particleNucleus: spell_instant
            particleOrbital: spell_instant
            iterations: 16
       no_target:
       -  class: EffectSingle
          custom_sound: magic.whip
          location: origin
       -  class: EffectSingle
          custom_sound: magic.protego
          location: origin
       -  class: EffectSingle
          custom_sound: magic.vanish
          location: origin
          effectlib:
            class: ConeEffect
            iterations: 16
            particle: spell_mob
            color: FE2EF7
            lengthGrow: 0.4
       -  class: EffectSingle
          location: target
          color: FE2EF7
          firework: star
   parameters:
       range: 24
       instant_block_effects: true
       target_name: Skeletal Companion
       launch: true
       cooldown: 3000
       power: 0
       speed: 0.15
       expected_lifespan: 30
       size: 4
       delay: 1500
       set_target: true
       duration: 20000
   costs:
       mana: 10

skeletonarmy:
   icon: diamond_axe:10
   icon_disabled: diamond_axe:10
   name: Skeleton Army
   description: Summon 3 Skeletal Companions, at the sacrifice of 3 hearts.
   actions:
       cast:
       - class: Repeat
         actions:
         - class: SpawnEntity
         - class: Tame
   effects:
       cast:
       -  class: EffectSingle
          sound: block_portal_travel
          location: both
          effectlib:
            class: WarpEffect
            particle: portal
   parameters:
       target: self
       type: skeletoncompanion
       set_target: true
       track: false
       repeat: 3
       cooldown: 20000
   costs:
      health: 6

ballsteal:
    name: Ball Steal
    description: Attempt to grab the Quaffle!
    icon: diamond_axe:80
    icon_disabled: diamond_pickaxe:80
    worth: 150
    hidden: true
    category: Minigames
    actions:
        cast:
        - class: ConeOfEffectAction
          actions:
          - class: TakeItem
    effects:
        cast:
        - class: EffectSingle
          sound: ENTITY_PLAYER_ATTACK_SWEEP
          sound_pitch: 0.8
          sound_volume: 2
          location: origin
          use_hit_location: false
          use_wand_location: false
          target_offset: 0,-1.3,0
          effectlib:
            offset: 0,-1.3,0
            class: AnimatedBall
            duration: 750
            particle: sweep_attack
            color: 62EEFF
            size: .75
    parameters:
        fov: 360
        range: 3
        target_type: Player
        target_count: 10
        target: other
        hitbox: false
        display_name: "&4Quaffle"
        cooldown: 1000

ballknock:
    name: Ball Knock
    description: Knock the quaffle out of your oppenents' hands
    icon: diamond_axe:80
    icon_disabled: diamond_pickaxe:80
    worth: 150
    hidden: true
    category: Minigames
    actions:
        cast:
        - class: ConeOfEffectAction
          actions:
          - class: Disarm
    effects:
        cast:
        - class: EffectSingle
          sound: ENTITY_PLAYER_ATTACK_SWEEP
          sound_pitch: 0.8
          sound_volume: 2
          location: origin
          use_hit_location: false
          use_wand_location: false
          target_offset: 0,-1.3,0
          effectlib:
            offset: 0,-1.3,0
            class: AnimatedBall
            duration: 750
            particle: sweep_attack
            color: 62EEFF
            size: .75
    parameters:
        keep_in_inventory: false
        fov: 360
        range: 3
        target_type: Player
        target_count: 10
        target: other
        hitbox: false
        display_name: "&4Quaffle"
        cooldown: 1000

ballrecover:
    name: Ball Recover
    description: Grab the quaffle off the ground
    icon: diamond_axe:80
    icon_disabled: diamond_pickaxe:80
    worth: 150
    hidden: true
    category: Minigames
    actions:
      cast:
      - class: AreaOfEffectAction
        actions:
        - class: TakeItem
    effects:
        cast:
        - class: EffectSingle
          sound: ENTITY_PLAYER_ATTACK_SWEEP
          sound_pitch: 0.8
          sound_volume: 2
          location: origin
          use_hit_location: false
          use_wand_location: false
          target_offset: 0,-1.3,0
          effectlib:
            offset: 0,-1.3,0
            class: AnimatedBall
            duration: 750
            particle: sweep_attack
            color: 62EEFF
            size: .75
    parameters:
        range: 3
        target_type: Item
        target_count: 1
        target: self
        display_name: "&4Quaffle"
        cooldown: 100

SpiderMaster3:
  icon: "diamond_axe:64"
  pvp_restricted: true
  actions:
    cast:
      - class: SpawnEntity
  parameters:
    allow_max_range: false
    cooldown: 1
    costs:
      mana: 100
    range: 24
    track: true
    type: mutant
    undo: 15000

architect1:
    icon: diamond_axe:193
    actions:
        cast:
        - class: Volume
          actions:
          - class: ModifyBlock
    effects:
        cast:
        -  class: EffectSingle
           sound: entity_player_levelup
    parameters:
        target: other
        allow_max_range: true
        range: 3
        use_brush_size: true
        brush: schematic|mobarena
        check_destructible: false
        undo: 30000

architect2:
    icon: diamond_axe:194
    actions:
      cast:
      - class: ChangeContext
        source_yaw_offset: 90
        actions:
        - class: Volume
          actions:
          - class: ModifyBlock
    effects:
        cast:
        -  class: EffectSingle
           sound: entity_player_levelup
    parameters:
        target: other
        allow_max_range: true
        range: 15
        use_brush_size: true
        brush: schematic|tent
        orient: true
        orient_snap: 90
        check_destructible: false

elevator:
  icon: diamond_axe:145
  icon_disabled: diamond_hoe:145
  actions:
    cast:
    - class: ChangeContext
      target_offset: 0,-1,0
    - class: Repeat
      actions:
      - class: ConeOfEffect
        actions:
        - class: Velocity
      - class: Delay
        delay: 100
      - class: Plane
        actions:
        - class: ModifyBlock
      - class: Delay
        delay: 800
      - class: ChangeContext
        target_offset: 0,1,0
  parameters:
    speed: 0.5
    direction: 0,1,0
    brush: quartz_block
    radius: 1
    undo: 8000
    undo_speed: 2
    target: self
    destructible: air
    persist_target: true
    repeat: 10
    source_pitch: 90
    range: 10
    fov: 4

unlockedwandshop:
  inherit: buyshop
  parameters:
      confirm: true
      confirm_filler: stained_glass:3
      items:
      - item: wand|default
        cost: 500
        permission: unlocked.beginner
      - item: wand|student
        cost: 500
        permission: unlocked.student
      - item: wand|apprentice
        cost: 500
        permission: unlocked.apprentice
      - item: wand|master
        cost: 500
        permission: unlocked.master

throwcar:
    icon: diamond_sword
    actions:
        cast:
        - class: EntityProjectile
          actions:
          - class: Damage
    effects:
        projectile:
        -   class: EffectSingle
            effectlib:
                class: SphereEffect
                particle: flame
                particles: 4
                radius: 0.2
                duration: 30000
    parameters:
      velocity: 10
      type: armor_stand
      helmet: model3_item
      invisible: true
      marker: true
      attach_duration: 5000
      gravity: 0.05
      cooldown: 10000
      damage: 10
    costs:
      mana: 30

pasteonground:
    icon: diamond_axe:129
    icon_disabled: diamond_hoe:129
    actions:
        cast:
        - class: Cover
          actions:
          - class: ChangeContext
            actions:
            - class: Volume
              actions:
              - class: ModifyBlock
    effects:
        cast:
        -  class: EffectSingle
           sound: magic.shield
        -  class: EffectTrail
           particle: drip_lava
    parameters:
        allow_max_range: true
        range: 10
        use_brush_size: true
        undo: 30000
        cooldown: 40000
        brush: schematic|tent
        destructible: destructible_replace
        orient: true
        target_offset: 0,-2,0
    costs:
        mana: 100

scorch:
    icon: diamond_axe:153
    icon_disabled: diamond_hoe:153
    upgrade_required_path: beginner
    upgrade_required_casts: 15
    icon_url: http://textures.minecraft.net/texture/e511624fac75f03cf2f3a56d5fe4582d6e74fc9f5e1e1160af1941ee144928
    category: combat
    pvp_restricted: true
    worth: 150
    earns_sp: 10
    actions:
        cast:
        - class: Parallel
          actions:
          - class: Projectile
            actions:
            - class: Damage
          - class: ChangeContext
            source_yaw_offset: 45
            actions:
            - class: Projectile
              actions:
              - class: Damage
          - class: ChangeContext
            source_yaw_offset: -45
            actions:
            - class: Projectile
              actions:
              - class: Damage
    effects:
        cast:
        -  class: EffectSingle
           sound: entity_ghast_shoot
        -  class: EffectSingle
           effectlib:
             class: ShieldEffect
             particle: flame
             particles: 10
             iterations: 3
             period: 1
             particleOffsetX: 0.9
             particleOffsetY: 0.1
             particleOffsetZ: 0.9
             radius: 3
             offset: 0,-1,0
             duration: $warmup
        hit:
        -  class: EffectSingle
           particle: explosion_large
           sound: entity_generic_explode
        -  class: EffectSingle
           effectlib:
             class: WarpEffect
             particle: flame
             particles: 10
             iterations: 3
             period: 1
             particleOffsetX: 0.9
             particleOffsetY: 0.1
             particleOffsetZ: 0.9
             radius: 3
             offset: 0,-1,0
             duration: $warmup
    parameters:
        projectile: LargeFireball
        fire: false
        size: 1
        cooldown: 10000
        start: 5
        break_blocks: false
        damage: 2
        speed: 3
        radius: 0
        warmup: 1000
    costs:
        mana: 40

arrowstorm:
    icon: diamond_axe:181
    icon_disabled: diamond_hoe:181
    icon_url: http://textures.minecraft.net/texture/7d89462020cc12f63d5117d37b52e642536de7fa774d2d96e80c72e1d4ff6
    category: utility
    worth: 150
    earns_sp: 5
    actions:
        cast:
        -  class: ThrowBlock
           actions:
           -  class: ChangeContext
              target_offset: 0,1,0
              actions:
              - class: AreaOfEffect
                radius: 5
                actions:
                -  class: Projectile
                   actions: Damage
    effects:
        cast:
        -  class: EffectSingle
           sound: entity_arrow_shoot
           sound_pitch: 0.2
           sound_volume: 1.0
           location: both
        -  class: EffectSingle
           location: both
           sound: orb_pickup
           sound_volume: 0.5
    parameters:
        target: none
        brush: dispenser
        allow_max_range: false
        range: 15
        undo: 1000
        projectile: TippedArrow
        count: 30
        fire: false
        spread: 10
        speed: 1
        py: ~4
        pdy: ~-0.2
        cooldown: 1000
        direction: 0,1,0
        instant_block_effects: true
        target_self: false
        duration: 4000
    costs:
        mana: 40

earth_cage:
    actions:
        cast:
            -   class: CustomProjectile
                actions:
                -   class: ChangeContext
                    source_at_target: true
                    actions:
                    -   class: Brush
                        brush: stone
                        actions:
                        -   class: Sphere
                            actions:
                            -   class: ModifyBlock
                        -   class: Stop
    effects:
        projectile:
        -   class: EffectSingle
            use_wand_location: false
            location: origin
            effectlib:
                class: SphereEffect
                radius: 0.5
                particles: 50
                duration: 500
                particle: block_crack
                material: stone
    parameters:
        range: 16
        target: LivingEntity
        destructible: destructible_replace
        transparent: transparent_no_water
        radius: 5
        thickness: 1
        velocity: 16
        reorient: true
        undo: 4000

earth_wall:
    actions:
        cast:
        -   class: CheckBlock
            allowed: earth
            actions:
            -   class: ChangeContext
                source_at_target: true
                actions:
                -   class: Brush
                    brush: stone
                    actions:
                    -   class: AreaOfEffect
                        radius: 2
                        actions:
                        -   class: Velocity
                            living_entity_speed: 0.5
                            push: 1
                    -   class: Volume
                        y_size: 1
                        x_size: 1
                        z_size: 0
                        actions:
                        -   class: ModifyBlock
                    -   class: Delay
                    -   class: Volume
                        y_size: 2
                        x_size: 2
                        z_size: 0
                        actions:
                        -   class: ModifyBlock
                    -   class: Delay
                    -   class: Volume
                        y_size: 3
                        x_size: 2
                        z_size: 1
                        actions:
                        -   class: ModifyBlock
    parameters:
        destructible: destructible_replace
        range: 12
        undo: 16000
        delay: 250
        axis: z
        orient: true


test_cage:
    icon_url: http://textures.minecraft.net/texture/77c999f4dfd915fc5f1d66120334796687c48189124e6ca944fba1aebd986b
    icon: skull_item:4

    actions:
        cast:
        -   class: CustomProjectile
            actions:
            -   class: ChangeContext
                source_at_target: true
                actions:
                -   class: CheckBlock
                    allowed: earth_full_block
                    actions:
                    -   class: Brush
                        sample: true
                        actions:
                        -   class: Sphere
                            actions:
                            -   class: ModifyBlock
                    -   class: Stop
                -   class: Brush
                    brush: stone
                    actions:
                    -   class: Sphere
                        actions:
                        -   class: ModifyBlock
                    -   class: Stop
    parameters:
        range: 16
        target: LivingEntity
        destructible: destructible_replace
        transparent: transparent_no_water
        radius: 5
        thickness: 1
        velocity: 16
        reorient: true
        undo: 4000

Berserk:
    actions:
        cast:
        -  class: PotionEffect
    effects:
        cast:
        -  class: EffectSingle
           sound: block_fire_extinguish
           location: target
           effectlib:
             class: SphereEffect
             iterations: 70
             period: .1
             particle: redstone
             color: 0A2A0A
             radius: 2
             particles: 20
    parameters:
        target: self

earth_test:
    icon: sand
    actions:
        cast:
        -   class: CheckBlock
            allowed: sand
            actions:
            -   class: Cylinder
                radius: 2
                actions:
                -   class: Brush
                    brush: erase
                    actions:
                    -   class: ModifyBlock
            -   class: Delay
            -   class: Cylinder
                radius: 3
                actions:
                -   class: Brush
                    brush: erase
                    actions:
                    -   class: ModifyBlock
            -   class: Delay
            -   class: Cylinder
                radius: 4
                actions:
                -   class: Brush
                    brush: erase
                    actions:
                    -   class: ModifyBlock
    parameters:
        target: block
        destructible: sand
        falling: true
        delay: 50
        undo: 4000

boomerang:
  parameters:
    location_offset: 0,-1,0
    armor_stand_invisible: true

DGranade:
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: AreaOfEffect
            actions:
            - class: PotionEffect
              duration: 1000
              effect_wither: 1
            - class: PotionEffect
            - class: ApplyCooldown
            - class: Deactivate
            - class: Repeat
              repeat: 10
              actions:
              - class: Damage
                damage: 2
              - class: Delay
                delay: 500
    parameters:
        attach_duration: 5000
        duration: 5000
        effect_slow: 20
        effect_wither: 1
        effect_confusion: 5
        target: other
        allow_max_range: true
        velocity: 40
        gravity: 0.03
        range: 120
        target_type: Damageable
        player_damage: 6
        entity_damage: 10
        attach_duration: 5000
        radius: 8


grenadelauncher:
    icon: ghast_tear
    icon_url: http://textures.minecraft.net/texture/2ba95570c7b712713632d4c0d2fc66906613d3850a596a0267c6d763fe741ac
    category: combat
    worth: 9999
    actions:
        cast:
        - class: ArmorStandProjectile
          actions:
          - class: Damage
            damage_max_distance: 0
            player_damage: 8
            entity_damage: 10
          - class: AreaOfEffect
            actions:
            - class: Damage
            - class: Velocity
              speed: 1.5
          - class: Sphere
            actions:
            - class: ModifyBlock
              ignore_result: true
    effects:
        cast:
        -  class: EffectSingle
           sound: war.rocketlauncher
           sound_pitch: 1.2
           location: origin
        tick:
        - location: target
          particle: smoke_large
          particle_count: 4
          particle_offset_x: 0.2
          particle_offset_y: 0.2
          particle_offset_z: 0.2
        hit_entity_armor_stand:
        -  class: EffectSingle
           location: target
           sound: war.ricochet
           particle: block_crack
           material: iron_block
           particle_count: 20
           particle_offset_x: 0.3
           particle_offset_y: 0.3
           particle_offset_z: 0.3
        hit_entity:
        -  class: EffectSingle
           sound: entity_slime_attack
           sound_pitch: 0.8
           location: target
           effectlib:
            class: AnimatedBallEffect
            particles: 50
            particlesPerIteration: 8
            iterations: 15
            particle: block_crack
            particleCount: 30
            material: redstone_block
            size: 1
            yOffset: 0
        hit:
        -  class: EffectSingle
           location: target
           sound: entity_generic_explode
           sound_volume: 3
           particle: explosion_huge
           particle_count: 4
           particle_offset_x: 2
           particle_offset_y: 2
           particle_offset_z: 2
           particle_data: 0.2
    parameters:
        velocity: 10
        range: 60
        hitbox: true
        radius: 1
        target_type: LivingEntity
        damage_max_distance: 5
        player_damage: 15
        entity_damage: 15
        target_breakables: 1
        bypass_backfire: true
        destructible: solid
        destructible_durability: 40
        undo: 30000
        brush: erase
        cooldown: 5000
        speed: 1.1
        direction: 0,0.8,0
        falling: true
        undo_speed: 0.8
        target_self_timeout: 2000
        y_offset: 0.75
        push: 1
        velocity_max_distance: 5
        magic_damage: false
        unbreakable_items: true
        helmet_item: diamond_pickaxe:9
        orient_head: true
        armor_stand_small: true
        armor_stand_gravity: false
        target_armor_stand: true
        spread_movement_max: 0.1
        spread_movement: 5
        gravity: 0.05
    costs:
      mana: 1

equation:
  parameters:
    #equation: "rand(20*intelligence/7,30*intelligence/5)"
    equation: "((((intelligence * (1 + (10 / 150)) - 1) + 0 + 0) ^ 1.05) + 10) * 1"

lumos:
    icon: diamond_axe:228
    icon_disabled: diamond_hoe:228
    category: charms
    icon_url: http://textures.minecraft.net/texture/4abfe52d50f710f4103bc650b5e972d49832ea419841d9fa24e16ce617c716
    worth: 10
    actions:
        cast:
        - class: Repeat
          actions:
           - class: Retarget
             actions:
             - class: Light
           - class: Delay
           - class: Undo
             undo_to: 1
        - class: Delay
        - class: Undo
    effects:
        cast:
        -  class: EffectSingle
           particle: smoke_normal
           particle_count: 10
           sound: creeper_death
    parameters:
        target: self
        async: false
        delay: 100
        repeat: 100
        duration: 10000

rasengan:
    name: Rasengan
    description: Crea una bola de chakra que impulse tu objetivo hacia adelante
    icon_url: http://textures.minecraft.net/texture/44a760e06345bd9edd2475d6469dfb952278ca3ec7634aa334e1d7bfcc8644f
    icon: rails
    category: elemental
    worth: 50
    earns_sp: 3
    upgrade_required_path: beginner
    upgrade_required_casts: 40
    actions:
        cast:
        - class: VelocityAction
          y_offset: 1
          speed: 0.3
        - class: Repeat
          actions:
          - class: Delay
          - class: PlayEffects
            effects: iterate
          - class: Damage
          - class: VelocityAction
    effects:
        cast:
        -  class: EffectSingle
           sound: fizz
           sound_volume: 1
           sound_pitch: -0.1
           location: origin
           effectlib:
             class: SphereEffect
             particle: firework
             color: 00FFFF
             iterations: 5
             radius: 0.25
             particles: 15
             period: 1
             visibleRange: 100
             firework: ball
        iterate:
        -  class: EffectSingle
           location: targets
           color: 00FFFF
           firework: ball
    parameters:
        target_type: LivingEntity
        range: 8
        fov: 1
        target_count: 2
        repeat: 10
        speed: 1.2
        delay: 250
        y_offset: 0.3
        cooldown: 5000
        damage: 2

CrownOfGod:
    icon: diamond_axe:10
    icon_disabled: diamond_hoe:10
    actions:
        cast:
        - class: Repeat
          actions:
          - class: PotionEffect
          - class: PlayEffects
            effects: effected
          - class: Delay
    effects:
        effected:
        -  class: EffectSingle
           sound: entity_villager_yes
           location: origin
           target_offset: 0,1,0
           particle_count: 20
           effectlib:
             class: HelixEffect
             particle: redstone
             iterations: 3
             color: 00FF00
             radius: 0.5
    parameters:
        target: self
        duration: 1000
        repeat: 10000000
        delay: 900
        effect_regeneration: 1

CancelCrown:
    icon: diamond_axe:10
    icon_disabled: diamond_hoe:10
    actions:
        cast:
        - class: Cancel
    parameters:
      target: self
      spell: CrownOfGod

Vampiricdisappearance:
    icon_url: http://textures.minecraft.net/texture/74e9c6e98582ffd8ff8feb3322cd1849c43fb16b158abb11ca7b42eda7743eb
    icon: jack_o_lantern
    category: dark
    actions:
        cast:
        - class: PotionEffect
        - class: Vanish
        - class: Repeat
          actions:
          - class: SpawnEntity
    pvp_restricted: true
    worth: 300
    effects:
        cast:
        - particle: explosion_large
          particle_count: 10
          particle_offset_x: 1
          particle_offset_y: 1
          particle_offset_z: 1
        - particle: smoke_large
          particle_count: 50
          particle_offset_x: 5
          particle_offset_y: 5
          particle_offset_z: 5
    parameters:
        target: self
        cooldown: 45000
        undo: 30000
        repeat: 20
        duration: 8000
        cooldown: 30000
        effect_invisibility: 5
        type: bat

fuzzytp:
    icon_url: http://textures.minecraft.net/texture/a35cfb663dbde27598eebe76b0fdac2593f1d696b3e6b9e044edeb8d48c2e2
    category: utility
    cast_on_no_target: true
    actions:
        cast:
        - class: ChangeContext
          target_caster: true
          ignore_result: true
          actions:
          - class: FallProtectionAction
        - class: ChangeContext
          target_offset:
        - class: Teleport
    effects:
        teleport:
        - class: EffectSingle
          sound: magic.teleport
          location: target
          particle_override: particleNucleus
          color_override: colorOrbital
          source_location: eyes
          effectlib:
             class: AtomEffect
             particleNucleus: dragon_breath
             particleOrbital: redstone
             iterations: 8
             offset: 0,-1,0
        precast:
         - class: EffectSingle
           sound: magic.teleport
           location: origin
           particle_override: particleNucleus
           color_override: colorOrbital
           source_location: eyes
           effectlib:
               class: AtomEffect
               updateLocations: false
               particleNucleus: dragon_breath
               particleOrbital: redstone
               iterations: 8
               offset: 0,-1,0
         - class: EffectSingle
           color_override: color
           effectlib:
               class: LineEffect
               particle: redstone
               updateLocations: false
    parameters:
        target: block
        allow_max_range: true
        allow_passthrough: false
        range: 12
        cooldown: 10000
        prevent_passthrough: nopassthrough
        bypass_confusion: true
        vertical_range: 8
    costs:
        mana: 50

testmodifiedeffect:
    icon: diamond_axe:148
    icon_disabled: diamond_hoe:148
    icon_url: http://textures.minecraft.net/texture/aa7e54c1c7634bdf1118db91da9e12b6b4d17f7fb7b7d5b0d06d554feb737bf
    category: light
    worth: 20
    earns_sp: 1
    show_undoable: false
    upgrade_required_path: student
    upgrade_required_casts: 50
    effects:
      cast:
        - location: target
          use_block_location: true
          effectlib:
            class: Modified
            period: 3
            iterations: 10
            parameters:
              radius: "(1 - (t / i)) * 3 + 0.9"
            effect:
              class: Sphere
              particle: block_crack
              yOffset: 0
              offset: 0,0.7,0
              particleCount: 4
              particles: 30
              particleOffsetX: 0.1
              particleOffsetY: 0.1
              particleOffsetZ: 0.1
    parameters:
        target: block
        allow_max_range: true
        range: 16

implosion:
    parameters:
      target: block
      range: 32
      allow_max_range: true
    effects:
        cast:
        - class: EffectSingle
          location: target
          effectlib:
            class: Modified
            effect:
              class: Sphere
            parameters:
              # for 100 iterations, go from radius 10 to 0
              # 10 / 100 = 0.1
              radius: "10 - t * 0.1"

plotter:
    icon: compass
    parameters:
      range: 5
      allow_max_range: true
      target: block
    effects:
        cast:
        - class: EffectSingle
          location: target
          effectlib:
            class: Plot
            # 5 blocks wide
            xEquation: "5 * t / i"
            #yEquation: "5 * t / i"
            yScale: 1
            #yEquation: "select(t - 10, t * 5, 50, select(i - t - 10, 50, 50, (i - t - 10) * 5))"
            # yEquation: "select(t - 10, t * 5, 50, select(t - i + 10, 50, 50, abs(t - i) * 5))"
            yEquation: "select(t - 10, (10 - t) * 0.3 + 0.5, 0.5, select(t - i + 10, 0.5, 0.5, (t - i + 10) * 0.3 + 0.5))"

Image:
    parameters:
      range: 10
      allow_max_range: true
    effects:
        cast:
        - class: EffectSingle
          location: target
          effectlib:
            enableRotation: false
            class: ColoredImageEffect
            fileName: https://i.imgur.com/kL4Jvq5.gif
            stepX: 2
            stepY: 2
            size: 0.1
            period: 1
            frameDelay: 1
            transparency: true

magicbowshop:
    icon: bow
    category: npc
    hidden: true
    actions:
        cast:
        -  class: ItemShop
    parameters:
        quiet: true
        confirm: true
        confirm_filler: stained_glass:3
        items:
        - item: wand|magicbow
          cost: 2500

warps:
  icon: sulphur
  category: npc
  hidden: true
  actions:
      cast:
      -  class: Selector
  parameters:
    title: "Warp"
    selected: ""
    show_unavailable: true
    options:
    - placeholder: true
    - placeholder: true
    - name: Warp Somewhere
      icon: diamond_axe:66
      commands:
      - warp somewhere @p

smartfling:
    icon: diamond_axe:60
    icon_disabled: diamond_hoe:60
    icon_url: http://textures.minecraft.net/texture/7cc2fb583d1762a16a50fa5ac37bc09b46def63e68205116d650391f9233ed
    alias: leap
    category: utility
    tags: nojail
    worth: 400
    earns_sp: 2
    upgrade_required_path: student
    upgrade_required_casts: 50
    actions:
        cast:
        - class: Velocity
        - class: FallProtection
    effects:
        cast:
        -  class: EffectSingle
           sound: entity_enderdragon_flap
           sound_volume: 1
           effectlib:
             class: Trace
             iterations: 30
             particleOffsetX: 1
             particleOffsetY: 1
             particleOffsetZ: 1
             particleCount: 10
             speed: 2
             particle: spell
        land:
        -  sound: block_stone_step
           sound_pitch: 0.7
        -  class: EffectRing
           particle: block_crack
           source_location: feet
           period: 4
           particle_count: 80
           radius: 4
           particle_offset_x: 0.9
           particle_offset_z: 0.9
           particle_offset_y: 0.1
    parameters:
        duration: 20000
        target: self
        min_speed: "0.1 + intelligence / 20"
        max_speed: "0.2 + intelligence / 5"

deprecated:
  icon: feather
  class: AbsorbSpell

wolfanimation:
    icon: diamond_axe:169
    icon_disabled: diamond_hoe:169
    icon_url: http://textures.minecraft.net/texture/6eb68dc909b12ef5fb397c23fdecbc416d9a76825170c106b1faeb97b4749
    category: engineering
    actions:
        cast:
        - class: Volume
          actions:
          - class: Skip
            actions:
            - class: Delay
          - class: ModifyBlock
    parameters:
        target: self
        use_brush_size: true
        undo: 2000
        undo_speed: 1
        cooldown: 20000
        brush: schematic|nathanwolf
        breakable: 3
        destructible: destructible_replace
        skip: 32
        delay: 50
        volume_type: xzy
        quiet: true
        undo_sorted: false
        oty: -1
        bypass: true

glideranimation:
    icon: diamond_axe:169
    icon_disabled: diamond_hoe:169
    icon_url: http://textures.minecraft.net/texture/6eb68dc909b12ef5fb397c23fdecbc416d9a76825170c106b1faeb97b4749
    category: engineering
    actions:
        cast:
        - class: Brush
          brush: schematic|glider1
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: schematic|glider2
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: schematic|glider3
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: schematic|glider4
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: schematic|glider5
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: schematic|glider6
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: schematic|glider7
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: schematic|glider8
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
        - class: Brush
          brush: schematic|glider9
          actions:
          - class: Volume
            actions:
            - class: ModifyBlock
        - class: Delay
    parameters:
        target: self
        use_brush_size: true
        destructible: "*"
        delay: 50
        quiet: true
        bypass: true
        oty: 3
        undo: 1000

changeworld:
  name: Change Worlds
  description: Go to the nether or the end
  icon: diamond_axe:73
  actions:
    cast:
    - class: Selector
  effects:
    cast:
    - location: target
      effectlib:
        class: Sphere
        duration: 2000
    - sound: magic.zap
  parameters:
    target: self
    tonether:
    - class: ChangeWorld
      target_world: world_nether
    toend:
    - class: ChangeWorld
      target_world: world_the_end
    tooverworld:
    - class: ChangeWorld
      target_world: world
    options:
      - icon: netherrack
        name: To Nether
        actions: tonether
      - icon: ender_stone
        name: To End
        actions: toend
      - icon: grass
        name: To Overworld
        actions: tooverworld

timebomb_electrify:
  actions:
    cast:
    - class: Electrify
  parameters:
    target: self

timebomb_explode:
  actions:
    cast:
    - class: Explosion
    - class: Kill
  parameters:
    target: self
    size: 3

timebomb_trigger:
  icon: tnt
  actions:
    cast:
    - class: Trigger
  parameters:
    range: 32
    trigger: detonate

acshop:
    icon: iron_hoe
    category: npc
    hidden: true
    actions:
        cast:
        - class: Selector
          options:
          - item: rollback
            costs:
              ac: 100
          - item: absorb
            costs:
              tc: 50
          - item: nuke
            costs:
              diamond: 20
          - item: earthquake
            costs:
              sp: 2000
          - icon: diamond
            name: AC -> TC
            costs:
              ac: 100
            earns:
              tc: 10
    parameters:
        cost_type: ac
        quiet: true
        confirm_filler: stained_glass:2

earnac:
    icon_url: http://textures.minecraft.net/texture/73b6fd4699e7c8c4ce3024b7882b38ff47f1a249fb8be67992707ec2b8d59c
    icon: diamond_axe:159
    icon_disabled: diamond_hoe:159
    category: charms
    pvp_restricted: true
    worth: 40
    earns: 10 ac
    earns_cooldown: 5000
    actions:
        cast:
        - class: DamageAction
    effects:
        cast:
        -  class: EffectSingle
           sound: irongolem_death
           sound_volume: 1
        -  class: EffectSingle
           sound: shoot_arrow
           sound_volume: .5
           location: origin
           effectlib:
             class: ConeEffect
             iterations: 15
             particle: redstone
             color: 610B0B
             lengthGrow: 0.3
        -  class: EffectSingle
           location: target
           color: 610B0B
           color2: 610B0B
           firework: ball
        no_target:
        -  class: EffectSingle
           sound: irongolem_death
           sound_volume: 1
        -  class: EffectSingle
           sound: shoot_arrow
           sound_volume: .5
           location: origin
           effectlib:
             class: ConeEffect
             iterations: 15
             particle: redstone
             color: 610B0B
             lengthGrow: 0.3
        -  class: EffectSingle
           location: target
           color: 610B0B
           color2: 610B0B
           firework: ball
        backfire:
        -  class: EffectSingle
           sound: shoot_arrow
           sound_volume: 5.0
           location: origin
           entity_effect: hurt
           effectlib:
             class: ConeEffect
             iterations: 15
             particle: redstone
             color: 610B0B
             lengthGrow: 0.3
    parameters:
        range: 48
        hitbox: true
        target_type: LivingEntity
        damage: 2.5
        cooldown: 3000
        target_breakables: 0
        bypass_backfire: false
    costs:
        mana: 30


debugfloodfill:
    icon: diamond_axe:82
    icon_disabled: diamond_hoe:82
    icon_url: http://textures.minecraft.net/texture/3eae564a9cf283d1b95d45f82674bc7327d6f91ab8cd3458cabbe2c84db
    category: engineering
    tags: noduel
    cancellable: false
    worth: 6000
    actions:
        cast:
        - class: ChangeContext
          target_attachment: true
          actions:
          - class: Recurse
            actions:
            - class: Skip
              actions:
              - class: Delay
    effects:
        cast:
        -  class: EffectTrail
           particle: block_crack
    parameters:
        allow_max_range: false
        range: 32
        depth: 10
        destructible: air
        transparent: transparent_to_construction
        cooldown: 1000
        consume: true
        delay: 1
        skip: 100000
        debug_material: concrete
        destructible: "air,concrete"
        priority_faces: down
        faces:
        - down
        - north
        - east
        - south
        - west
        undo_speed: 10
    costs:
        mana: 200

debugfloodfill2:
    icon: diamond_axe:82
    icon_disabled: diamond_hoe:82
    icon_url: http://textures.minecraft.net/texture/3eae564a9cf283d1b95d45f82674bc7327d6f91ab8cd3458cabbe2c84db
    category: engineering
    tags: noduel
    cancellable: false
    worth: 6000
    actions:
        cast:
        - class: ChangeContext
          target_attachment: true
          actions:
          - class: Recurse
            actions:
            - class: Skip
              actions:
              - class: Delay
    effects:
        cast:
        -  class: EffectTrail
           particle: block_crack
    parameters:
        allow_max_range: false
        range: 32
        depth: 10
        destructible: air
        transparent: transparent_to_construction
        cooldown: 1000
        consume: true
        delay: 1
        skip: 100000
        debug_material: concrete
        destructible: "air,concrete"
        depth_first: true
        faces:
        - down
        - north
        - east
        - south
        - west
        undo_speed: 10
    costs:
        mana: 200

debugfillall:
    icon: diamond_axe:94
    icon_disabled: diamond_hoe:94
    icon_url: http://textures.minecraft.net/texture/812a772ef923c597e12f41986d7bea9a9387055eb17eeebb1d8c6de3ca25f
    category: engineering
    tags: noduel
    cancellable: false
    worth: 6000
    actions:
        cast:
        - class: ChangeContext
          target_attachment: true
          actions:
          - class: Recurse
            actions:
            - class: Skip
              actions:
              - class: Delay
    effects:
        cast:
        -  class: EffectTrail
           particle: block_crack
    parameters:
        allow_max_range: false
        range: 32
        depth: 10
        destructible: air
        transparent: transparent_to_construction
        cooldown: 1000
        consume: true
        delay: 1
        skip: 100000
        debug_material: concrete
        destructible: "air,concrete"
        transparent: air, glass
        faces:
        - up
        - down
        - north
        - east
        - south
        - west
        undo_speed: 10
    costs:
        mana: 200

divingshop:
    icon: ender_pearl
    category: utility
    hidden: true
    inherit: buyshop
    parameters:
        items:
        - item: divinghelmet
          cost: 100
        - item: deluxedivinghelmet
          cost: 1000
        - item: trident
          cost: 500
        - item: supertrident
          cost: 5000
        - item: turtle_helmet
          cost: 50

sniper_scope:
  parameters:
      item: carved_pumpkin

conditional:
  icon: stick
  actions:
    cast:
    - class: CheckRequirements
      actions:
      - class: Message
        message: You have passed the test!
      - class: Stop
    - class: Message
      message: YOU FAIL!
    - class: Kill
  parameters:
    target: self
    requirements:
    - attributes:
      - attribute: constitution
        min: 10

linearrow:
  inherit: arrow
  parameters:
    projectile_effects_use_target: true
  effects:
    projectile:
    - effectlib:
        class: Line
        duration: 5000

recipeshop:
    inherit: buyshop
    parameters:
        auto_close: true
        items:
        - item: recipe:*
          cost: 10

itembuffshop:
  icon: diamond_axe:234
  icon_disabled: diamond_hoe:234
  icon_url: http://textures.minecraft.net/texture/4a68c3ec585277cad3da3955fac44fbe7a7f98271fd529d26ce110d8884a8a
  category: npc
  hidden: true
  actions:
      cast:
      -  class: Selector
  parameters:
    confirm: true
    confirm_filler: stained_glass:13
    cost_type: sp
    options:
    - cast_spell: add_lore
      cost: 200

add_lore:
  icon: diamond_axe:234
  icon_disabled: diamond_hoe:234
  icon_url: http://textures.minecraft.net/texture/4a68c3ec585277cad3da3955fac44fbe7a7f98271fd529d26ce110d8884a8a
  hidden: true
  cast_on_no_target: false
  actions:
    cast:
    - class: ModifyLore
  parameters:
    target: self
    digits: 0
    modify:
    - pattern: "&o&3\\+(\\d*) &4Damage"
      value: "x + 1"
      max: 10

scooter:
   inherit: airscooter
   parameters:
       start_speed: 0.5
       steer_speed: 0.1
       crash_dismount_speed: 0.1
       min_speed: 0
       max_speed: 1
       controllable: true
       strafe_controllable: 1
       max_acceleration: 0.02
       max_deceleration: 0.05

finisher:
  name: Finisher
  description: Finish off a poisoned foe
  actions:
    cast:
      - class: CheckPotionEffects
        required: poison
      - class: Damage
  parameters:
    damage: 20
    range: 30

sunbeam:
  name: Sunbeam
  description: Harness the power of the sun
  icon: wooden_hoe{CustomModelData:1}
  actions:
    cast:
      - class: CheckRequirements
        requirements:
        - light:
            min: 5
      - class: AreaOfEffect
        actions:
        - class: Damage
  parameters:
    target: self
    damage: 10
    radius: 32

masterful:
  icon: diamond_axe:160
  icon_disabled: diamond_hoe:160
  effects:
    projectile:
        - class: EffectSingle
          effectlib:
            class: SphereEffect
            particle: flame
            particles: 4
            radius: 0.2
            duration: 30000
  actions:
    cast:
    - class: CustomProjectile
      actions:
      - class: Damage
  parameters:
    damage: "level * 2"
    target_type: LivingEntity
    range: 40
    allow_max_range: false
    cooldown: 2000

takesword:
  icon: stone_sword
  actions:
    cast:
      - class: AreaOfEffect
        radius: 6
        actions:
          - class: TakeItem
            item: stone_sword
  parameters:
    undo: 1000
    entity_undo: true
    target: self
    give_to_caster: false


throwshield:
    icon: feather
    parameters:
      undo: 1000
    actions:
        cast:
        - class: ChangeContext
          target_caster: true
          actions:
          - class: CheckInventory
            item: shield{CustomModelData:1006}
          - class: TakeItem
            item: shield{CustomModelData:1006}
        - class: ArmorStandProjectile
          velocity_transform:
            x:
              class: dSin
              a: 20
              b: 1.5707
              c: 0
            y: 0
            z:
              class: dSin
              a: 4.7123
              b: 3.1416
              c: 0
          velocity: 50
          fov: 100
          range: 50
          armor_stand_invisible: true
          lifetime: 100000
          hitbox_size: 1.5
          right_arm_item: shield{CustomModelData:1006}
          location_offset: 0,-1,0
          teleport: true
          apply_velocity: true
          right_arm_transform:
            x: "6.28*sin(0.2*t)"
            y: 0
            z: 0
          actions:
          - class: Damage
            damage: 15
            magic_damage: false
          - class: Delay
            delay: 1000
          - class: Command
            console: true
            command: /minecraft:give @p shield{CustomModelData:1006}

piper:
    name: Piper the Sniper
    description: Does more damage at longer range
    icon: spell_icon:160
    icon_disabled: spell_icon_disabled:160
    icon_url: http://textures.minecraft.net/texture/2ba95570c7b712713632d4c0d2fc66906613d3850a596a0267c6d763fe741ac
    category: combat
    worth: 150
    earns_sp: 7
    earns_cooldown: 10000
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: Damage
    effects:
        cast:
        -  class: EffectSingle
           sound: magic.zap_crack
           location: origin
           color_override: color
           effectlib:
             class: ConeEffect
             iterations: 10
             particle: redstone
             lengthGrow: 0.1
             radiusGrow: 0.003
             updateLocations: false
             updateDirections: false
             particle_count: 8
             particle_offset_y: 0.1
             particle_offset_x: 0.1
             particle_offset_z: 0.1
        tick:
        - particle: redstone
          location: target
          particle_count: 4
          particle_offset_y: 0.2
          particle_offset_x: 0.2
          particle_offset_z: 0.2
          particle_size: 1
        hit_block:
        -  class: EffectSingle
           location: target
           particle: block_crack
           particle_count: 30
           particle_offset_x: 0.2
           particle_offset_y: 1
           particle_offset_z: 0.2
        hit_entity:
        -  class: EffectSingle
           location: target
           particle: redstone
           particle_count: 30
           particle_offset_x: 0.2
           particle_offset_y: 0.2
           particle_offset_z: 0.2
        hit:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 10
           particle_offset_x: 0.3
           particle_offset_y: 0.3
           particle_offset_z: 0.3
           sound: magic.zap
           sound_volume: .3
           particle_data: 0.1
        headshot:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 20
           particle_offset_y: 0.2
           particle_offset_x: 0.2
           particle_offset_z: 0.2
           particle_data: 0.1
           sound: magic.zap
           sound_volume: .3
        -  sound: entity_player_attack_crit
           sound_pitch: 0.8
           location: target
           particle: crit_magic
           particle_count: 30
           particle_offset_y: 1
           particle_offset_x: 1
           particle_offset_z: 1
           particle_data: 0.5
    headshot_parameters:
      damage_multiplier: 1.5
    parameters:
        allow_max_range: true
        velocity: 200
        range: 24
        hitbox: true
        target_type: Damageable
        player_damage: 8
        entity_damage: 10
        damage_max_distance: 20
        damage_min_distance: 2
        invert_distance: true
        min_damage: 1
        target_breakables: 1
        cooldown: 1000
        reorient: false
        destructible: solid
        destructible_durability: 50
        break_durability: 2
        undo: 10000
    costs:
        mana: 15

swap:
  name: Swap
  description: Swap places with your target
  actions:
    cast:
      - class: ChangeContext
        swap_source_and_target: true
        actions:
        - class: Delay
        - class: Teleport
          use_target_location: true
      - class: Teleport
        use_target_location: true
  parameters:
    target: other_entity
    range: 32

getdamagedone:
  icon: spell_icon:160
  icon_disabled: spell_icon_disabled:160
  passive: true
  triggers:
    - trigger: damage_dealt
  actions:
    cast:
      - class: Message
  parameters:
    target: self
    message: "damage $damage_dealt"

damagetest:
  icon: stick
  actions:
    cast:
    - class: Damage
  parameters:
    target: self
    damage: 1
    damage_type: anvil

antiknockback:
  icon: stick
  actions:
    cast:
    - class: Modifier
  parameters:
    target: other
    range: 32
    add_modifiers:
      - antiknockback
    duration: 20000

deathpotion:
  icon: potion:000000
  actions:
    cast:
      - class: Projectile
        actions:
          - class: AreaOfEffect
            actions:
              - class: Kill
  parameters:
    projectile: Potion
    color: "000000"
    radius: 3

tempboon:
    icon: spell_icon:11
    icon_disabled: spell_icon_disabled:11
    icon_url: http://textures.minecraft.net/texture/15987e49e7ed16df536f4dbf685e7720b88b4de6deaf614d84ab9f9884725c
    actions:
      cast:
      - class: PotionEffect
    effects:
      cast:
        - sound: entity_experience_orb_pickup
        - location: origin
          source_location: body
          color_override: color
          effectlib:
            class: EquationEffect
            x_equation: 0
            y_equation: "0.4 * (cos(t/57.2958)  * (2.71828^(cos(t/57.2958)) - 2 * cos(4t/57.2958) - (sin(t/(12 * 57.2958)))^5))"
            z_equation: "0.4 * (sin(t/57.2958)  * (2.71828^(cos(t/57.2958)) - 2 * cos(4t/57.2958) - (sin(t/(12 * 57.2958)))^5))"
            particles: 50
            duration: 10000
            relative_offset: -0.5,0,0
            disappear_with_origin_entity: true
    parameters:
      target: self
      effect_speed: 3
      cooldown: 500
      duration: 10000

nethershop:
    inherit: buyshop
    hidden: true
    parameters:
        items:
        - netherrack@64
        - ghast_tear
        - blaze_rod
        - crimson_nylium@64
        - warped_nylium@64
        - warped_planks@64
        - warped_stem@64
        - crimson_planks@64
        - crimson_stem@64
