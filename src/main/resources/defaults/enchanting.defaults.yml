#
# !! IMPORTANT !!
#
# Do not edit this file. It is overwritten by Magic on reload.
#
# If you wish to customize this plugin, add entries to enchanting.yml. Do not just copy this configuration,
# only modify the lines you wish to change.
#
# See https://github.com/elBukkit/MagicPlugin/blob/master/ENCHANTING.md for more information.
#
# Finally, if you feel like you've got a nice customization, please share it with me. If it fits in with my
# own vision of the plugin, I'll happily put it into the defaults, and then you won't need a custom config anymore :)
#
# - NathanWolf
#

#
# This is the Enchanthing configuration file for the Magic plugin.
#
# This defines the randomization paths for wands, used in several places:
#
# - Wand crafting
# - Wand enchanting
# - Block populator (MagicWorlds plugin)
#
# The randomization system works with "levels". 
# When enchanting, these map directly to the number of xp levels a player spends.
# When creating a random wand, you can specify a level like random(23).
# The default "/wand random" will give you a level-1 random wand. This is also what the crafting table generates.
#
# An enchanting table with no bookshelves can add about 27 levels to a wand at one time. A full bookshelf table
# can add about 40. This is used to try to give out the "big" spells to only the high-level enchanting tables.
#
# The "levels" line defines the level thresholds. This list is used in all of the following lists, think of it
# as the column headers.
#
# The randomization blocks create a lookup table that is used to randomly choose values based on the input level.
# (Note that the actual values are interpolated based on the provided level and the thresholds set.)
# The key in a randomization block is the output. The values separated by columns are weights that match to the level
# in the same column in the "levels" list. Higher weights mean higher probability for that value at that level threshold.
# 
# For example:
# 
# # Define level thresholds at 1, 20, 30 and 40.
# levels: 1,20,30,40
# # Add spells to a wand
# spell_count:
# # levels:  1  20   30    40
#       1: 99,  85, 100,   100
#       2: 1,   10,  60,   100
#       3: 0,   5,   20,   70
#       4: 0,   0,   10,   60
# 
# At level 1, a wand has a 99% chance of getting 1 spell added to it, and a 1% chance of 2 spells.
# At level 20, a wand has an 85% chane of getting 1 spell, 10% chance of 2 spells, and a 5% chance of 3
#
# Levels between 1 and 20 will be scaled linearly between the two.
# The same logic is applies for levels 20-30 and 30-40.
#
# Note that the actual values need not add up to 100- and generally do not. This is much easier to tweak, but also generally
# harder to comprehend when looking at the numbers- I'm thinking about ways to clean that up.
#
# The property_count affects how many of the power, reduction or protection properties will get chosen at one time
#

#
# The default path is a base path common to the others
#

default:
  hidden: true
  min_enchant_level: 5
  max_enchant_level: 30
  levels: 1,15,25
  upgrade_commands:
    - broadcast &6@pd &3has advanced to &b$path&3!
  effects:
      enchant:
      -  class: EffectSingle
         sound: level_up
         effectlib:
           class: SphereEffect
           iterations: 5
           period: 2
           particle: enchantment_table
           radius: 3
      upgrade:
      -  class: EffectSingle
         sound: level_up
      -  class: EffectRing
         firework: star
         radius: 4
         size: 2
      -  class: EffectRing
         firework: ball_large
         radius: 6
         size: 3

#
# Wand progression
# beginner -> student -> apprentice -> master
#
beginner:
    upgrade: student
    upgrade_item: student_upgrade
    inherit: default
    property_count:
      0: 100, 20, 10
      1: 25,  50,  200
    max_protection: 0.2
    protection:
      0^1: 100, 100, 90
      0^2: 0,   5,   10
    max_protection_falling: 0.4
    protection_falling:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
    max_protection_physical: 0.4
    protection_physical:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
    max_mana_regeneration: 10
    mana_regeneration:
      1: 100, 30, 5
      2: 20,  30, 40
    max_mana: 100
    mana_max:
      2: 100, 10,  0
      5: 20,  30, 50
    spell_count:
      1: 100, 5,   1
      2: 0,   50,  40
      3: 0,   10,  90
    spells:
      missile: 100,90,80
      arrow: 0,20,10
      blast: 30,40,50
      boon: 0,5,10
      cloak: 0,0,30
      collapse: 0,0,30
      cure: 1,5,10
      bubble: 10,40,20
      fireball: 0,0,80
      flare: 110,80,60
      torch: 0,60,50
      push: 0,20,40
      pull: 10,20,40
      peek: 10,30,40
      recall: 0,5,15
      blind: 0,1,5
      reflect: 0,0,5
      stun: 0,5,15
      poison: 5,10,20
      fire: 50,70,60
      frost: 80,70,50
      gather: 0,0,5
      workbench: 50,70,100

student:
    upgrade: apprentice
    upgrade_item: apprentice_upgrade
    inherit: beginner
    property_count:
      0: 100, 20, 10
      1: 50,  50, 30
      2: 0,   10, 100
    max_protection: 0.4
    protection:
      0^1: 100, 100, 90
      0^2: 0,   5,   10
      0^3: 0 ,  1,   5
    max_protection_falling: 0.5
    protection_falling:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
      0^3: 0 ,  15,  15
    max_protection_physical: 0.5
    protection_physical:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
      0^3: 0 ,  15,  15
    max_protection_fire: 0.3
    protection_fire:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
      0^3: 0 ,  15,  15
    max_protection_explosions: 0.3
    protection_explosions:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
      0^3: 0 ,  15,  15
    max_mana_regeneration: 30
    mana_regeneration:
      1: 100, 30, 5
      2: 20, 30, 40
      3: 0 , 10, 10
    max_mana: 150
    mana_max:
      5:  100,10,  0
      7: 20, 30, 50
      10: 5 , 20, 30
    spell_count:
      1: 100, 10,  1
      2: 0,   70,  40
      3: 0,   1,   90
    spells:
      blink: 0,0,10
      arrowrain: 10,30,50
      boom: 20,50,60
      familiar: 10,30,40
      fling: 0,5,70
      grenade: 0,20,70
      heal: 0,1,5
      monster: 5,20,30
      lightning: 40,50,30
      lava: 5,20,50
      stream: 0,10,30
      flamethrower: 0,5,10
      wither: 5,10,20
      mine: 0,5,30
      chop: 0,5,30
      shell: 1,20,30
      blob: 1,20,30
      entangle: 0,0,20
      tracking: 5,10,30
      rocket: 0,10,20
      whip: 1,10,20
      secure: 0,0,5
      admission: 20,25,30
      curse: 0,0,10
      tag: 1,4,5
      phase: 0,0,1
      grow: 1,10,20

apprentice:
    upgrade: master
    upgrade_item: master_upgrade
    inherit: student
    property_count:
      0: 100, 100, 50
      1: 50,  100, 100
      2: 10,  50,  75
      3: 0,   0,   50
    max_protection: 0.5
    protection:
      0^1: 100, 100, 90
      0^2: 0,   5,   10
      0^3: 0 ,  1,   5
    max_protection_falling: 0.75
    protection_falling:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
      0^3: 0 ,  15,  15
    max_protection_physical: 0.75
    protection_physical:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
      0^3: 0 ,  15,  15
    max_protection_fire: 0.5
    protection_fire:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
      0^3: 0 ,  15,  15
    max_protection_explosions: 0.5
    protection_explosions:
      0^1: 100, 100, 90
      0^2: 1,   10,  20
      0^3: 0 ,  15,  15
    max_mana_regeneration: 40
    mana_regeneration:
      1: 100, 30, 5
      2: 20,  30, 40
      3: 0 ,  10, 10
    max_mana: 200
    mana_max:
      5:  100, 10,  0
      7: 20,  30, 50
      10: 5 ,  20, 30
    spell_count:
      1: 100, 5,   0
      2: 0,   80,  30
      3: 0,   10,  80
    spells:
      emp: 0,0,10
      breach: 5,20,30
      disintegrate: 0,10,40
      hat: 110,80,60
      music: 110,80,60
      sandblast: 20,30,40
      counterspell: 0,1,5
      platform: 0,1,5
      rubberize: 2,10,20
      wound: 0,10,20
      harden: 0,0,15
      sponge: 0,0,10
      flashbang: 20,30,50
      gatling: 0,20,30
      walls: 5,30,50
      smite: 10,20,30
      shuriken: 0,0,5
      sticky: 1,5,15
      homing: 1,5,15
      lift: 1,5,10
      disarm: 0,0,2
      laser: 0,0,10
      wave: 5,20,30
      chainlightning: 5,20,30
      ghast: 0,0,5

master:
    required_spells:
      - rollback
    upgrade: engineer
    upgrade_item: engineer_upgrade
    inherit: apprentice
    property_count:
      0: 100, 100, 50
      1: 50,  100, 100
      2: 10,  50,  75
      3: 0,   0,   50
    max_protection: 0.75
    protection:
      0^1: 100,100,90
      0^2: 0,   5, 10
      0^3: 0 ,  1, 5
      0^4: 0 ,  0, 1
    max_protection_falling: 1
    protection_falling:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_protection_physical: 0.9
    protection_physical:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_protection_fire: 0.75
    protection_fire:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_protection_explosions: 0.75
    protection_explosions:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_mana_regeneration: 50
    mana_regeneration:
      1: 100, 30, 5
      2: 20, 30, 40
      3: 0 , 10, 10
      5: 0 ,  0, 1
    max_mana: 250
    mana_max:
      5:  100,10,  0
      10: 20, 30, 50
      15: 5 , 20, 30
      20: 0 , 0,   5
    spell_count:
      1: 100, 10,  0
      2: 0,   70,  10
      3: 0,   10,   90
    spells:
      fury: 0,0,1
      blessing: 0,0,1
      cluster: 0,0,5
      bomb: 0,0,1
      invincible: 0,0,10
      earthquake: 0,0,1
      mount: 0,1,5
      icbm: 0,0,1
      nuke: 0,0,1
      cage: 0,0,2
      meteor: 0,0,2
      pollinate: 0,0,10
      kill: 2,10,20
      torture: 2,10,20
      petrify: 0,10,30
      singularity: 0,1,5
      tornado: 1,10,15
      tendril: 0,0,5
      silence: 0,0,5
      force: 5,10,20
      tent: 0,0,1
      stash: 0,0,5
      tame: 0,0,5
      railgun: 10,20,30
      levitate: 0,0,10
      shrink: 5,20,30

#
# The move from "master" to engineer requires the player to aquire some basic
# egineering spells first.
#
# In this way, it is up to the server owner whether or not players get access to
# engineering magic.
#
# Similarly, the move to "Architect" requires that the player aquire a few high-level
# engineering spells first.
#

engineer:
    required_spells:
      - absorb
    upgrade: architect
    upgrade_item: architect_upgrade
    inherit: master
    property_count:
      0: 100, 100, 50
      1: 50,  100, 100
      2: 10,  50,  75
      3: 0,   0,   50
    max_protection: 0.9
    protection:
      0^1: 100, 100,  90
      0^2: 0,     5,  10
      0^3: 0 ,    1,  5
      0^4: 0 ,    0,  1
    max_protection_falling: 1
    protection_falling:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_protection_fire: 0.9
    protection_fire:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_protection_explosions: 0.9
    protection_explosions:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_mana_regeneration: 55
    mana_regeneration:
      1: 100, 30, 5
      2: 20, 30, 40
      3: 0 , 10, 10
    max_mana: 300
    mana_max:
      5:  100,10,  0
      8: 20, 30, 50
      10: 5 , 20, 30
      15: 0 , 0,   5
    spell_count:
      1: 100, 20,  0
      2: 0,   50,  10
      3: 0,   10,  90
    spells:
      rollback: 1,5,10
      alter: 0,10,20
      bridge: 0,5,10
      toss: 2,25,35
      convert: 0,5,40
      recurse: 0,5,20
      paint: 1,20,45
      #iterate: 0,0,40
      pillar: 0,5,10
      place: 0,1,5
      tree: 0,2,10
      supertorch: 1,10,20
      brushselect: 100,100,100
    material_count:
      2: 50, 20, 20
      3: 1,  10,  30
      4: 0,  5,   40
      5: 0,  1,   10
    materials:
      erase: 0,0,1
      map: 0,0,1
      stone: 50,70,80
      dirt: 50,50,70
      sand: 20,30,40
      gravel: 20,30,40
      glass: 10,20,30
      glowstone: 5,10,20
      stained_clay: 1,5,15
      stained_glass: 0,5,15
      stained_glass_pane: 0,5,15
      soul_sand: 5,10,20
      grass: 5,10,20
      wood: 5,10,20
      log: 5,10,20
      vine: 0,5,10
      mycel: 0,5,10
      quartz_block: 0,0,25
      leaves: 0,5,10
      ice: 10,20,25
      packed_ice: 10,20,25
      obsidian: 0,0,15
      redstone_block: 0,0,5
      schematic|rainbow_blocks: 0,2,5
      schematic|creeper_rug: 0,0,5

architect:
    inherit: engineer
    required_spells:
    - backup
    upgrade: conduit
    upgrade_item: conduit_upgrade
    property_count:
      0: 100, 100, 50
      1: 50,  100, 100
      2: 10,  50,  75
      3: 0,   0,   50
    max_protection: 1
    protection:
      0^1: 100,100,90
      0^2: 0,   5, 10
      0^3: 0 ,  1, 5
      0^4: 0 ,  0, 1
    max_protection_falling: 1
    protection_falling:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_protection_fire: 1
    protection_fire:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_protection_explosions: 1
    protection_explosions:
      0^1: 100,100,90
      0^2: 1,  10, 20
      0^3: 0 , 15, 15
      0^4: 0 ,  0, 10
    max_mana_regeneration: 60
    mana_regeneration:
      1: 100, 30, 5
      2: 20, 30, 40
    max_mana: 400
    mana_max:
      5:  100,10,  0
      10: 20, 30, 50
      15: 5 , 20, 30
    spell_count:
      1: 100, 0,   0
      2: 0,   50,  10
      3: 0,   5,   90
    spells:
      absorb: 0,1,2
      superalter: 0,1,5
      supershell: 0,0,5
      superblast: 0,0,5
      superbox: 0,0,5
      supercube: 0,0,5
      superpyramid: 0,0,5
      superblob: 0,1,10
      fill: 0,0,5
      superemp: 0,5,20
      superdisc: 0,0,5
      superring: 0,0,5
      superconvert: 0,20,50
      supercylinder: 0,20,50
      #column: 5,50,100
      superdome: 0,0,2
      volley: 2,25,35
      floodfill: 1,10,20
      tunnel: 5,10,20
    material_count:
      3:  50, 20, 20
      4:  1,  10, 30
      5:  0,  5,  40
      10:  0,  1,  10
    materials:
      copy: 0,0,10
      wool|0: 80,60,50
      wool|1: 80,60,50
      wool|2: 80,60,50
      wool|3: 80,60,50
      wool|4: 80,60,50
      wool|5: 80,60,50
      wool|6: 80,60,50
      wool|7: 80,60,50
      wool|8: 80,60,50
      wool|9: 80,60,50
      wool|10: 80,60,50
      wool|11: 80,60,50
      wool|12: 80,60,50
      wool|13: 80,60,50
      wool|14: 80,60,50
      wool|15: 80,60,50
      stained_clay|0: 80,60,50
      stained_clay|1: 80,60,50
      stained_clay|2: 80,60,50
      stained_clay|3: 80,60,50
      stained_clay|4: 80,60,50
      stained_clay|5: 80,60,50
      stained_clay|6: 80,60,50
      stained_clay|7: 80,60,50
      stained_clay|8: 80,60,50
      stained_clay|9: 80,60,50
      stained_clay|10: 80,60,50
      stained_clay|11: 80,60,50
      stained_clay|12: 80,60,50
      stained_clay|13: 80,60,50
      stained_clay|14: 80,60,50
      stained_clay|15: 80,60,50
      stained_glass|0: 60,40,30
      stained_glass|1: 60,40,30
      stained_glass|2: 60,40,30
      stained_glass|3: 60,40,30
      stained_glass|4: 60,40,30
      stained_glass|5: 60,40,30
      stained_glass|6: 60,40,30
      stained_glass|7: 60,40,30
      stained_glass|8: 60,40,30
      stained_glass|9: 60,40,30
      stained_glass|10: 60,40,30
      stained_glass|11: 60,40,30
      stained_glass|12: 60,40,30
      stained_glass|13: 60,40,30
      stained_glass|14: 60,40,30
      stained_glass_pane|15: 60,40,30
      stained_glass_pane|0: 60,40,30
      stained_glass_pane|1: 60,40,30
      stained_glass_pane|2: 60,40,30
      stained_glass_pane|3: 60,40,30
      stained_glass_pane|4: 60,40,30
      stained_glass_pane|5: 60,40,30
      stained_glass_pane|6: 60,40,30
      stained_glass_pane|7: 60,40,30
      stained_glass_pane|8: 60,40,30
      stained_glass_pane|9: 60,40,30
      stained_glass_pane|10: 60,40,30
      stained_glass_pane|11: 60,40,30
      stained_glass_pane|12: 60,40,30
      stained_glass_pane|13: 60,40,30
      stained_glass_pane|14: 60,40,30
      stained_glass_pane|15: 60,40,30
      schematic|rainbow_blocks: 0,2,5
      schematic|lantern: 0,1,20
      schematic|creeper_rug: 0,0,5
      schematic|elder_tree: 0,0,1
      schematic|church: 0,0,5
      schematic|blacksmith: 0,0,5
      schematic|garden_house: 0,5,10
      schematic|compact_house: 5,10,15
      schematic|small_house: 5,10,15
      schematic|nathanwolf: 0,0,1

conduit:
    inherit: architect
    spell_count:
      1: 100, 0,   0
      2: 0,   50,  10
      3: 0,   5,   90
    spells:
      portal: 0,0,25
      backup: 0,0,1
      repair: 1,10,30
      superrepair: 0,0,5
      paste: 0,1,10
      anvil: 0,0,10
      day: 0,5,10
      night: 0,0,1
      weather: 0,0,5
    material_count:
      1:  50, 20, 20
      3:  1,  10, 30
      5:  0,  5,  40
      8:  0,  1,  10
      10: 0,  0,  1
    materials:
      commit: 0,0,1
      clone: 0,0,1
      replicate: 0,0,1
      lava: 0,0,15
      water: 0,0,30
      schematic|rainbow_blocks: 0,2,5
      schematic|lantern: 0,1,20
      schematic|creeper_rug: 0,0,5
      schematic|elder_tree: 0,0,1
      schematic|church: 0,0,5
      schematic|blacksmith: 0,0,5
      schematic|garden_house: 0,5,10
      schematic|compact_house: 5,10,15
      schematic|small_house: 5,10,15
      schematic|nathanwolf: 0,0,1

#
# "Battle" Wand (sword-wands)
# Have a separate enchanting path.
#

#
# Wand progression
# beginner -> student -> apprentice -> master
#
battle:
    upgrade: squire
    upgrade_item: squire_upgrade
    follows: beginner
    inherit: default
    max_mana_regeneration: 10
    max_mana: 100
    mana_regeneration: 1
    mana_max: 2
    spell_count: 1
    spells:
      missile: 100,90,80
      arrow: 0,20,10
      cure: 1,5,10
      fireball: 0,0,80
      push: 0,20,40
      pull: 10,20,40
      blind: 0,1,5
      reflect: 0,0,5
      stun: 0,5,15
      poison: 5,10,20
      fire: 50,70,60
      frost: 80,70,50

squire:
    upgrade: soldier
    upgrade_item: soldier_upgrade
    follows: student
    inherit: battle
    max_mana_regeneration: 30
    max_mana: 150
    mana_regeneration: 1
    mana_max: 2
    spell_count: 1
    spells:
      arrowrain: 10,30,50
      boom: 20,50,60
      grenade: 0,20,70
      heal: 0,1,5
      lightning: 40,50,30
      lava: 5,20,50
      stream: 0,10,30
      flamethrower: 0,5,10
      wither: 5,10,20
      shell: 1,20,30
      blob: 1,20,30
      entangle: 0,0,20
      whip: 1,10,20
      curse: 0,0,10

soldier:
    upgrade: knight
    upgrade_item: knight_upgrade
    inherit: squire
    follows: apprentice
    max_mana_regeneration: 40
    max_mana: 200
    mana_regeneration: 1
    mana_max: 2
    spell_count: 1
    spells:
      breach: 5,20,30
      disintegrate: 0,10,40
      sandblast: 20,30,40
      counterspell: 0,1,5
      wound: 0,10,20
      flashbang: 20,30,50
      gatling: 0,20,30
      smite: 10,20,30
      shuriken: 0,0,5
      sticky: 1,5,15
      homing: 1,5,15
      lift: 1,5,10
      disarm: 0,0,2
      laser: 0,0,10
      wave: 5,20,30

knight:
    inherit: soldier
    follows: master
    max_mana_regeneration: 50
    max_mana: 250
    mana_regeneration: 1
    mana_max: 2
    spell_count: 1
    spells:
      cluster: 0,0,5
      bomb: 0,0,1
      earthquake: 0,0,1
      icbm: 0,0,1
      nuke: 0,0,1
      cage: 0,0,2
      meteor: 0,0,2
      kill: 2,10,20
      torture: 2,10,20
      petrify: 0,10,30
      singularity: 0,1,5
      tornado: 1,10,15
      tendril: 0,0,5
      force: 5,10,20
      railgun: 10,20,30

#
# Broom Enchanting
#

broom:
    hidden: true
    min_enchant_level: 25
    max_enchant_level: 35
    levels: 25,30,35
    inherit: default
    max_power: 0.9
    property_count:
      1: 100, 100, 100
    power:
      0^1: 100,100, 100
      0^2: 0,   40, 50
      0^3: 0 ,  10, 30

blaster:
    hidden: true
    min_enchant_level: 50
    max_enchant_level: 50
